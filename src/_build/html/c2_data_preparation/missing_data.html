
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Missing Data &#8212; Data Science - A practical Approach</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Concatenation and deduplication" href="concatenation_deduplication.html" />
    <link rel="prev" title="2. Introduction" href="introduction.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">Data Science - A practical Approach</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../foreword.html">
   Foreword
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  1. Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c1_introduction/introduction.html">
   1. Introduction
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  2. Data Preparation
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   2. Introduction
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Missing Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="concatenation_deduplication.html">
   4. Concatenation and deduplication
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="some_practice.html">
   5. Some practice
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  3. Data Preprocessing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/introduction.html">
   6. Data Preprocessing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/indexing_slicing.html">
   7. Indexing and slicing
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  4. Data Exploration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_exploration/introduction.html">
   8. Data Exploration
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  5. Data Visualisation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_visualisation/introduction.html">
   9. Data Visualisation
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  6. Machine Learning
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c6_machine_learning/introduction.html">
   10. Machine Learning
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/c2_data_preparation/missing_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/LorenzF/data-science-practical-approach"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/LorenzF/data-science-practical-approach/issues/new?title=Issue%20on%20page%20%2Fc2_data_preparation/missing_data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/LorenzF/data-science-practical-approach/master?urlpath=tree/src/c2_data_preparation/missing_data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/LorenzF/data-science-practical-approach/blob/master/src/c2_data_preparation/missing_data.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#kamyr-digester">
   3.1. Kamyr digester
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#travel-times">
   3.2. Travel times
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#material-properties">
   3.3. Material properties
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="missing-data">
<h1><span class="section-number">3. </span>Missing Data<a class="headerlink" href="#missing-data" title="Permalink to this headline">¶</a></h1>
<p>In this notebook we will look at a few datasets where values from columns are missing.
It is crucial for data science and machine learning to have a dataset where no values are missing as algorithms are usually not able to handle data with information missing.</p>
<p>For python, we will be using the pandas library to handle our dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="kamyr-digester">
<h2><span class="section-number">3.1. </span>Kamyr digester<a class="headerlink" href="#kamyr-digester" title="Permalink to this headline">¶</a></h2>
<p>The first dataset we will be looking at is taken from a physical device equiped with numerous sensors, each timepoint (1 hour) these sensors are read out and the data is collected. Let’s have a look at the general structure</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/LorenzF/data-science-practical-approach/main/src/c2_data_preparation/data/kamyr-digester.csv&#39;</span><span class="p">)</span>
<span class="n">kamyr_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Observation</th>
      <th>Y-Kappa</th>
      <th>ChipRate</th>
      <th>BF-CMratio</th>
      <th>BlowFlow</th>
      <th>ChipLevel4</th>
      <th>T-upperExt-2</th>
      <th>T-lowerExt-2</th>
      <th>UCZAA</th>
      <th>WhiteFlow-4</th>
      <th>...</th>
      <th>SteamFlow-4</th>
      <th>Lower-HeatT-3</th>
      <th>Upper-HeatT-3</th>
      <th>ChipMass-4</th>
      <th>WeakLiquorF</th>
      <th>BlackFlow-2</th>
      <th>WeakWashF</th>
      <th>SteamHeatF-3</th>
      <th>T-Top-Chips-4</th>
      <th>SulphidityL-4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>31-00:00</td>
      <td>23.10</td>
      <td>16.520</td>
      <td>121.717</td>
      <td>1177.607</td>
      <td>169.805</td>
      <td>358.282</td>
      <td>329.545</td>
      <td>1.443</td>
      <td>599.253</td>
      <td>...</td>
      <td>67.122</td>
      <td>329.432</td>
      <td>303.099</td>
      <td>175.964</td>
      <td>1127.197</td>
      <td>1319.039</td>
      <td>257.325</td>
      <td>54.612</td>
      <td>252.077</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>31-01:00</td>
      <td>27.60</td>
      <td>16.810</td>
      <td>79.022</td>
      <td>1328.360</td>
      <td>341.327</td>
      <td>351.050</td>
      <td>329.067</td>
      <td>1.549</td>
      <td>537.201</td>
      <td>...</td>
      <td>60.012</td>
      <td>330.823</td>
      <td>304.879</td>
      <td>163.202</td>
      <td>665.975</td>
      <td>1297.317</td>
      <td>241.182</td>
      <td>46.603</td>
      <td>251.406</td>
      <td>29.11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>31-02:00</td>
      <td>23.19</td>
      <td>16.709</td>
      <td>79.562</td>
      <td>1329.407</td>
      <td>239.161</td>
      <td>350.022</td>
      <td>329.260</td>
      <td>1.600</td>
      <td>549.611</td>
      <td>...</td>
      <td>61.304</td>
      <td>329.140</td>
      <td>303.383</td>
      <td>164.013</td>
      <td>677.534</td>
      <td>1327.072</td>
      <td>237.272</td>
      <td>51.795</td>
      <td>251.335</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>31-03:00</td>
      <td>23.60</td>
      <td>16.478</td>
      <td>81.011</td>
      <td>1334.877</td>
      <td>213.527</td>
      <td>350.938</td>
      <td>331.142</td>
      <td>1.604</td>
      <td>623.362</td>
      <td>...</td>
      <td>68.496</td>
      <td>328.875</td>
      <td>302.254</td>
      <td>181.487</td>
      <td>767.853</td>
      <td>1324.461</td>
      <td>239.478</td>
      <td>54.846</td>
      <td>250.312</td>
      <td>29.02</td>
    </tr>
    <tr>
      <th>4</th>
      <td>31-04:00</td>
      <td>22.90</td>
      <td>15.618</td>
      <td>93.244</td>
      <td>1334.168</td>
      <td>243.131</td>
      <td>351.640</td>
      <td>332.709</td>
      <td>NaN</td>
      <td>638.672</td>
      <td>...</td>
      <td>70.022</td>
      <td>328.352</td>
      <td>300.954</td>
      <td>183.929</td>
      <td>888.448</td>
      <td>1343.424</td>
      <td>215.372</td>
      <td>54.186</td>
      <td>249.916</td>
      <td>29.01</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 23 columns</p>
</div></div></div>
</div>
<p>Interesting, there seem to be 22 sensor values and 1 timestamp for each record. As mechanical devices are prone to noise and dropouts of sensors we would be foolish to assume no missing values are present.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">kamyr_df</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Observation         0.00
Y-Kappa             0.00
ChipRate            1.33
BF-CMratio          4.65
BlowFlow            4.32
ChipLevel4          0.33
T-upperExt-2        0.33
T-lowerExt-2        0.33
UCZAA               7.97
WhiteFlow-4         0.33
AAWhiteSt-4        46.84
AA-Wood-4           0.33
ChipMoisture-4      0.33
SteamFlow-4         0.33
Lower-HeatT-3       0.33
Upper-HeatT-3       0.33
ChipMass-4          0.33
WeakLiquorF         0.33
BlackFlow-2         0.33
WeakWashF           0.33
SteamHeatF-3        0.33
T-Top-Chips-4       0.33
SulphidityL-4      46.84
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>As expected, the datapoint ‘AAWhiteSt-4’ even has 46% of data missing!
It seems we only have 300 datapoints and presumably these missing values occur in different records our dataset will be decimated if we just drop all rows with missing values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(301, 23)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(131, 23)
</pre></div>
</div>
</div>
</div>
<p>As we drop all rows with missing values, we are left with only 131 records.
Whilst this might be good enough for some purposes, there are more viable options.</p>
<p>Perhaps we can first remove the column with the most missing values and then drop all remaining</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;AAWhiteSt-4 &#39;</span><span class="p">,</span><span class="s1">&#39;SulphidityL-4 &#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(263, 21)
</pre></div>
</div>
</div>
</div>
<p>Significantly better, although we lost the information of 2 sensors we now have a complete dataset with 263 records. For purposes where those 2 sensors are irrelevant this is a viable option, keep in mind that this dataset is still 100% truthful, as we have not imputed any values.</p>
<p>Another option, where we retain all our records would be using the timely nature of our dataset, each record is a measurement with an interval of 1 hour. I have no knowledge of this dataset but one might make the assumption that the interval of 1 hour is taken as the state of the machine does not alter much in 1 hour. Therefore we could do what is called a forward fill, where we fill in the missing values with the same value of the sensor for the previous measurement.</p>
<p>This would solve nearly all nan values as there might be a problem where the first value is missing. This is shown below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kamyr_df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">)[</span><span class="s1">&#39;SulphidityL-4 &#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        NaN
1      29.11
2      29.11
3      29.02
4      29.01
       ...  
296    30.43
297    30.29
298    30.47
299    30.47
300    30.46
Name: SulphidityL-4 , Length: 301, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Although our dataset is not fully the truth, we can see that little to no changes occur in the sensor and using a forward fill is arguably the most suitable option.</p>
</div>
<div class="section" id="travel-times">
<h2><span class="section-number">3.2. </span>Travel times<a class="headerlink" href="#travel-times" title="Permalink to this headline">¶</a></h2>
<p>Another dataset from the same source contains a collection of recorded travel times and specific information about the travel itself as e.g.: the day of the week, where they were going, …</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/LorenzF/data-science-practical-approach/main/src/c2_data_preparation/data/travel-times.csv&#39;</span><span class="p">)</span>
<span class="n">travel_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>StartTime</th>
      <th>DayOfWeek</th>
      <th>GoingTo</th>
      <th>Distance</th>
      <th>MaxSpeed</th>
      <th>AvgSpeed</th>
      <th>AvgMovingSpeed</th>
      <th>FuelEconomy</th>
      <th>TotalTime</th>
      <th>MovingTime</th>
      <th>Take407All</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1/6/2012</td>
      <td>16:37</td>
      <td>Friday</td>
      <td>Home</td>
      <td>51.29</td>
      <td>127.4</td>
      <td>78.3</td>
      <td>84.8</td>
      <td>NaN</td>
      <td>39.3</td>
      <td>36.3</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1/6/2012</td>
      <td>08:20</td>
      <td>Friday</td>
      <td>GSK</td>
      <td>51.63</td>
      <td>130.3</td>
      <td>81.8</td>
      <td>88.9</td>
      <td>NaN</td>
      <td>37.9</td>
      <td>34.9</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1/4/2012</td>
      <td>16:17</td>
      <td>Wednesday</td>
      <td>Home</td>
      <td>51.27</td>
      <td>127.4</td>
      <td>82.0</td>
      <td>85.8</td>
      <td>NaN</td>
      <td>37.5</td>
      <td>35.9</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1/4/2012</td>
      <td>07:53</td>
      <td>Wednesday</td>
      <td>GSK</td>
      <td>49.17</td>
      <td>132.3</td>
      <td>74.2</td>
      <td>82.9</td>
      <td>NaN</td>
      <td>39.8</td>
      <td>35.6</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1/3/2012</td>
      <td>18:57</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>51.15</td>
      <td>136.2</td>
      <td>83.4</td>
      <td>88.1</td>
      <td>NaN</td>
      <td>36.8</td>
      <td>34.8</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>200</th>
      <td>7/18/2011</td>
      <td>08:09</td>
      <td>Monday</td>
      <td>GSK</td>
      <td>54.52</td>
      <td>125.6</td>
      <td>49.9</td>
      <td>82.4</td>
      <td>7.89</td>
      <td>65.5</td>
      <td>39.7</td>
      <td>No</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>201</th>
      <td>7/14/2011</td>
      <td>08:03</td>
      <td>Thursday</td>
      <td>GSK</td>
      <td>50.90</td>
      <td>123.7</td>
      <td>76.2</td>
      <td>95.1</td>
      <td>7.89</td>
      <td>40.1</td>
      <td>32.1</td>
      <td>Yes</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>202</th>
      <td>7/13/2011</td>
      <td>17:08</td>
      <td>Wednesday</td>
      <td>Home</td>
      <td>51.96</td>
      <td>132.6</td>
      <td>57.5</td>
      <td>76.7</td>
      <td>NaN</td>
      <td>54.2</td>
      <td>40.6</td>
      <td>Yes</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>203</th>
      <td>7/12/2011</td>
      <td>17:51</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>53.28</td>
      <td>125.8</td>
      <td>61.6</td>
      <td>87.6</td>
      <td>NaN</td>
      <td>51.9</td>
      <td>36.5</td>
      <td>Yes</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>204</th>
      <td>7/11/2011</td>
      <td>16:56</td>
      <td>Monday</td>
      <td>Home</td>
      <td>51.73</td>
      <td>125.0</td>
      <td>62.8</td>
      <td>92.5</td>
      <td>NaN</td>
      <td>49.5</td>
      <td>33.6</td>
      <td>Yes</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>205 rows × 13 columns</p>
</div></div></div>
</div>
<p>we have a total of 205 records and we can already see that the FuelEconomy column seems pretty bad, let’s quantify that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">travel_df</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Date               0.00
StartTime          0.00
DayOfWeek          0.00
GoingTo            0.00
Distance           0.00
MaxSpeed           0.00
AvgSpeed           0.00
AvgMovingSpeed     0.00
FuelEconomy        8.29
TotalTime          0.00
MovingTime         0.00
Take407All         0.00
Comments          88.29
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>In the end, it doesn’t seem that bad, but there are comments and nearly none of them are filled in. Which in perspective is understandable. Let’s see what the comments look like</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="p">[</span><span class="o">~</span><span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span><span class="o">.</span><span class="n">Comments</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15                                  Put snow tires on
39                                         Heavy rain
49                                Huge traffic backup
50      Pumped tires up: check fuel economy improved?
52                                Backed up at Bronte
54                                Backed up at Bronte
60                                              Rainy
78                                   Rain, rain, rain
91                                   Rain, rain, rain
92         Accident: backup from Hamilton to 407 ramp
110                                           Raining
132                           Back to school traffic?
133                Took 407 all the way (to McMaster)
150                             Heavy volume on Derry
156                        Start early to run a batch
158    Accident at 403/highway 6; detour along Dundas
165                                      Detour taken
166                                    Must be Friday
172                             Medium amount of rain
174                                         New tires
182                              Turn around on Derry
184                                       Empty roads
187                            Police slowdown on 403
189                         Accident blocked 407 exit
Name: Comments, dtype: object
</pre></div>
</div>
</div>
</div>
<p>As you would expect, these comments are text based. Now imagine we would like to run some Natural Language Processing (NLP) on these, it would be a pain to perform string operations on it when it is riddled with missing values.</p>
<p>Here a simple example where we select all records containing the word ‘rain’, with no avail.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="p">[</span><span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;rain&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_6376</span><span class="o">/</span><span class="mf">1298831137.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">travel_df</span><span class="p">[</span><span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;rain&#39;</span><span class="p">)]</span>

<span class="nn">~/git/data-science-practical-approach/venv/lib/python3.8/site-packages/pandas/core/frame.py</span> in <span class="ni">__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3446</span> 
<span class="g g-Whitespace">   </span><span class="mi">3447</span>         <span class="c1"># Do we have a (boolean) 1d indexer?</span>
<span class="ne">-&gt; </span><span class="mi">3448</span>         <span class="k">if</span> <span class="n">com</span><span class="o">.</span><span class="n">is_bool_indexer</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3449</span>             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_bool_array</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3450</span> 

<span class="nn">~/git/data-science-practical-approach/venv/lib/python3.8/site-packages/pandas/core/common.py</span> in <span class="ni">is_bool_indexer</span><span class="nt">(key)</span>
<span class="g g-Whitespace">    </span><span class="mi">137</span>                     <span class="c1"># Don&#39;t raise on e.g. [&quot;A&quot;, &quot;B&quot;, np.nan], see</span>
<span class="g g-Whitespace">    </span><span class="mi">138</span>                     <span class="c1">#  test_loc_getitem_list_of_labels_categoricalindex_with_na</span>
<span class="ne">--&gt; </span><span class="mi">139</span>                     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">na_msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">140</span>                 <span class="k">return</span> <span class="kc">False</span>
<span class="g g-Whitespace">    </span><span class="mi">141</span>             <span class="k">return</span> <span class="kc">True</span>

<span class="ne">ValueError</span>: Cannot mask with non-boolean array containing NA / NaN values
</pre></div>
</div>
</div>
</div>
<p>The last line of the python error traceback gives us the reason it failed, because there were NaN values present.</p>
<p>Luckily the string variable has more or less it’s on ‘null’ value, being an empty string, this way these operations are still possible, most of the comments will just contain nothing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span> <span class="o">=</span> <span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="p">[</span><span class="n">travel_df</span><span class="o">.</span><span class="n">Comments</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;rain&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>StartTime</th>
      <th>DayOfWeek</th>
      <th>GoingTo</th>
      <th>Distance</th>
      <th>MaxSpeed</th>
      <th>AvgSpeed</th>
      <th>AvgMovingSpeed</th>
      <th>FuelEconomy</th>
      <th>TotalTime</th>
      <th>MovingTime</th>
      <th>Take407All</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>39</th>
      <td>11/29/2011</td>
      <td>07:23</td>
      <td>Tuesday</td>
      <td>GSK</td>
      <td>51.74</td>
      <td>112.2</td>
      <td>55.3</td>
      <td>61.0</td>
      <td>NaN</td>
      <td>56.2</td>
      <td>50.9</td>
      <td>No</td>
      <td>Heavy rain</td>
    </tr>
    <tr>
      <th>60</th>
      <td>11/9/2011</td>
      <td>16:15</td>
      <td>Wednesday</td>
      <td>Home</td>
      <td>51.28</td>
      <td>121.4</td>
      <td>65.9</td>
      <td>71.8</td>
      <td>9.35</td>
      <td>46.7</td>
      <td>42.1</td>
      <td>No</td>
      <td>Rainy</td>
    </tr>
    <tr>
      <th>78</th>
      <td>10/25/2011</td>
      <td>17:24</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>52.87</td>
      <td>123.5</td>
      <td>65.1</td>
      <td>72.4</td>
      <td>8.97</td>
      <td>48.7</td>
      <td>43.8</td>
      <td>No</td>
      <td>Rain, rain, rain</td>
    </tr>
    <tr>
      <th>91</th>
      <td>10/12/2011</td>
      <td>17:47</td>
      <td>Wednesday</td>
      <td>Home</td>
      <td>51.40</td>
      <td>114.4</td>
      <td>59.7</td>
      <td>65.8</td>
      <td>8.75</td>
      <td>51.7</td>
      <td>46.9</td>
      <td>No</td>
      <td>Rain, rain, rain</td>
    </tr>
    <tr>
      <th>110</th>
      <td>9/27/2011</td>
      <td>07:36</td>
      <td>Tuesday</td>
      <td>GSK</td>
      <td>50.65</td>
      <td>128.1</td>
      <td>86.3</td>
      <td>88.6</td>
      <td>8.31</td>
      <td>35.2</td>
      <td>34.3</td>
      <td>Yes</td>
      <td>Raining</td>
    </tr>
    <tr>
      <th>172</th>
      <td>8/9/2011</td>
      <td>08:15</td>
      <td>Tuesday</td>
      <td>GSK</td>
      <td>49.08</td>
      <td>134.8</td>
      <td>60.5</td>
      <td>67.2</td>
      <td>8.54</td>
      <td>48.7</td>
      <td>43.8</td>
      <td>No</td>
      <td>Medium amount of rain</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Fixed! now we can use the comments for analysis.</p>
<p>We still have to fix the FuelEconomy, let us take a look at the non NaN values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="p">[</span><span class="o">~</span><span class="n">travel_df</span><span class="o">.</span><span class="n">FuelEconomy</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>StartTime</th>
      <th>DayOfWeek</th>
      <th>GoingTo</th>
      <th>Distance</th>
      <th>MaxSpeed</th>
      <th>AvgSpeed</th>
      <th>AvgMovingSpeed</th>
      <th>FuelEconomy</th>
      <th>TotalTime</th>
      <th>MovingTime</th>
      <th>Take407All</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>1/2/2012</td>
      <td>17:31</td>
      <td>Monday</td>
      <td>Home</td>
      <td>51.37</td>
      <td>123.2</td>
      <td>82.9</td>
      <td>87.3</td>
      <td>-</td>
      <td>37.2</td>
      <td>35.3</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>1/2/2012</td>
      <td>07:34</td>
      <td>Monday</td>
      <td>GSK</td>
      <td>49.01</td>
      <td>128.3</td>
      <td>77.5</td>
      <td>85.9</td>
      <td>-</td>
      <td>37.9</td>
      <td>34.3</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>12/23/2011</td>
      <td>08:01</td>
      <td>Friday</td>
      <td>GSK</td>
      <td>52.91</td>
      <td>130.3</td>
      <td>80.9</td>
      <td>88.3</td>
      <td>8.89</td>
      <td>39.3</td>
      <td>36.0</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>12/22/2011</td>
      <td>17:19</td>
      <td>Thursday</td>
      <td>Home</td>
      <td>51.17</td>
      <td>122.3</td>
      <td>70.6</td>
      <td>78.1</td>
      <td>8.89</td>
      <td>43.5</td>
      <td>39.3</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>12/22/2011</td>
      <td>08:16</td>
      <td>Thursday</td>
      <td>GSK</td>
      <td>49.15</td>
      <td>129.4</td>
      <td>74.0</td>
      <td>81.4</td>
      <td>8.89</td>
      <td>39.8</td>
      <td>36.2</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>197</th>
      <td>7/20/2011</td>
      <td>08:24</td>
      <td>Wednesday</td>
      <td>GSK</td>
      <td>48.50</td>
      <td>125.8</td>
      <td>75.7</td>
      <td>87.3</td>
      <td>7.89</td>
      <td>38.5</td>
      <td>33.3</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>198</th>
      <td>7/19/2011</td>
      <td>17:17</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>51.16</td>
      <td>126.7</td>
      <td>92.2</td>
      <td>102.6</td>
      <td>7.89</td>
      <td>33.3</td>
      <td>29.9</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>199</th>
      <td>7/19/2011</td>
      <td>08:11</td>
      <td>Tuesday</td>
      <td>GSK</td>
      <td>50.96</td>
      <td>124.3</td>
      <td>82.3</td>
      <td>96.4</td>
      <td>7.89</td>
      <td>37.2</td>
      <td>31.7</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>200</th>
      <td>7/18/2011</td>
      <td>08:09</td>
      <td>Monday</td>
      <td>GSK</td>
      <td>54.52</td>
      <td>125.6</td>
      <td>49.9</td>
      <td>82.4</td>
      <td>7.89</td>
      <td>65.5</td>
      <td>39.7</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>201</th>
      <td>7/14/2011</td>
      <td>08:03</td>
      <td>Thursday</td>
      <td>GSK</td>
      <td>50.90</td>
      <td>123.7</td>
      <td>76.2</td>
      <td>95.1</td>
      <td>7.89</td>
      <td>40.1</td>
      <td>32.1</td>
      <td>Yes</td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>188 rows × 13 columns</p>
</div></div></div>
</div>
<p>It seems that aside NaN values there are also other intruders, a quick check on the data type (Dtype) reveils it is not recognised as a number!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 205 entries, 0 to 204
Data columns (total 13 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   Date            205 non-null    object 
 1   StartTime       205 non-null    object 
 2   DayOfWeek       205 non-null    object 
 3   GoingTo         205 non-null    object 
 4   Distance        205 non-null    float64
 5   MaxSpeed        205 non-null    float64
 6   AvgSpeed        205 non-null    float64
 7   AvgMovingSpeed  205 non-null    float64
 8   FuelEconomy     188 non-null    object 
 9   TotalTime       205 non-null    float64
 10  MovingTime      205 non-null    float64
 11  Take407All      205 non-null    object 
 12  Comments        205 non-null    object 
dtypes: float64(6), object(7)
memory usage: 20.9+ KB
</pre></div>
</div>
</div>
</div>
<p>The column is noted as an object or string type, meaning that these numbers are given as ‘9.24’ instead of 9.24 and numerical operations are not possible.
We can cast them to numeric but have to warn pandas to coerce errors, meaning errors will be converted to NaN values.
Later we’ll handle the NaN’s.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="o">.</span><span class="n">FuelEconomy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">travel_df</span><span class="o">.</span><span class="n">FuelEconomy</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">travel_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 205 entries, 0 to 204
Data columns (total 13 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   Date            205 non-null    object 
 1   StartTime       205 non-null    object 
 2   DayOfWeek       205 non-null    object 
 3   GoingTo         205 non-null    object 
 4   Distance        205 non-null    float64
 5   MaxSpeed        205 non-null    float64
 6   AvgSpeed        205 non-null    float64
 7   AvgMovingSpeed  205 non-null    float64
 8   FuelEconomy     186 non-null    float64
 9   TotalTime       205 non-null    float64
 10  MovingTime      205 non-null    float64
 11  Take407All      205 non-null    object 
 12  Comments        205 non-null    object 
dtypes: float64(7), object(6)
memory usage: 20.9+ KB
</pre></div>
</div>
</div>
</div>
<p>Wonderful, now the column is numerical and we can see 2 more missing values have popped up!
We could easily drop these 19 records and have a complete dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">travel_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>StartTime</th>
      <th>DayOfWeek</th>
      <th>GoingTo</th>
      <th>Distance</th>
      <th>MaxSpeed</th>
      <th>AvgSpeed</th>
      <th>AvgMovingSpeed</th>
      <th>FuelEconomy</th>
      <th>TotalTime</th>
      <th>MovingTime</th>
      <th>Take407All</th>
      <th>Comments</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8</th>
      <td>12/23/2011</td>
      <td>08:01</td>
      <td>Friday</td>
      <td>GSK</td>
      <td>52.91</td>
      <td>130.3</td>
      <td>80.9</td>
      <td>88.3</td>
      <td>8.89</td>
      <td>39.3</td>
      <td>36.0</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>12/22/2011</td>
      <td>17:19</td>
      <td>Thursday</td>
      <td>Home</td>
      <td>51.17</td>
      <td>122.3</td>
      <td>70.6</td>
      <td>78.1</td>
      <td>8.89</td>
      <td>43.5</td>
      <td>39.3</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>12/22/2011</td>
      <td>08:16</td>
      <td>Thursday</td>
      <td>GSK</td>
      <td>49.15</td>
      <td>129.4</td>
      <td>74.0</td>
      <td>81.4</td>
      <td>8.89</td>
      <td>39.8</td>
      <td>36.2</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td>12/21/2011</td>
      <td>07:45</td>
      <td>Wednesday</td>
      <td>GSK</td>
      <td>51.77</td>
      <td>124.8</td>
      <td>71.7</td>
      <td>78.9</td>
      <td>8.89</td>
      <td>43.3</td>
      <td>39.4</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td>12/20/2011</td>
      <td>16:05</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>51.45</td>
      <td>130.1</td>
      <td>75.2</td>
      <td>82.7</td>
      <td>8.89</td>
      <td>41.1</td>
      <td>37.3</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>197</th>
      <td>7/20/2011</td>
      <td>08:24</td>
      <td>Wednesday</td>
      <td>GSK</td>
      <td>48.50</td>
      <td>125.8</td>
      <td>75.7</td>
      <td>87.3</td>
      <td>7.89</td>
      <td>38.5</td>
      <td>33.3</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>198</th>
      <td>7/19/2011</td>
      <td>17:17</td>
      <td>Tuesday</td>
      <td>Home</td>
      <td>51.16</td>
      <td>126.7</td>
      <td>92.2</td>
      <td>102.6</td>
      <td>7.89</td>
      <td>33.3</td>
      <td>29.9</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>199</th>
      <td>7/19/2011</td>
      <td>08:11</td>
      <td>Tuesday</td>
      <td>GSK</td>
      <td>50.96</td>
      <td>124.3</td>
      <td>82.3</td>
      <td>96.4</td>
      <td>7.89</td>
      <td>37.2</td>
      <td>31.7</td>
      <td>Yes</td>
      <td></td>
    </tr>
    <tr>
      <th>200</th>
      <td>7/18/2011</td>
      <td>08:09</td>
      <td>Monday</td>
      <td>GSK</td>
      <td>54.52</td>
      <td>125.6</td>
      <td>49.9</td>
      <td>82.4</td>
      <td>7.89</td>
      <td>65.5</td>
      <td>39.7</td>
      <td>No</td>
      <td></td>
    </tr>
    <tr>
      <th>201</th>
      <td>7/14/2011</td>
      <td>08:03</td>
      <td>Thursday</td>
      <td>GSK</td>
      <td>50.90</td>
      <td>123.7</td>
      <td>76.2</td>
      <td>95.1</td>
      <td>7.89</td>
      <td>40.1</td>
      <td>32.1</td>
      <td>Yes</td>
      <td></td>
    </tr>
  </tbody>
</table>
<p>186 rows × 13 columns</p>
</div></div></div>
</div>
<p>However im leaving them as an excercise for you to apply a technique we will see in the next part</p>
</div>
<div class="section" id="material-properties">
<h2><span class="section-number">3.3. </span>Material properties<a class="headerlink" href="#material-properties" title="Permalink to this headline">¶</a></h2>
<p>Another dataset from the same source contains the material properties from 30 samples, this time there is not timestamp as the samples are not related in time with each other.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">material_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/LorenzF/data-science-practical-approach/main/src/c2_data_preparation/data/raw-material-properties.csv&#39;</span><span class="p">)</span>
<span class="n">material_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Sample</th>
      <th>size1</th>
      <th>size2</th>
      <th>size3</th>
      <th>density1</th>
      <th>density2</th>
      <th>density3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>X12558</td>
      <td>0.696</td>
      <td>2.69</td>
      <td>6.38</td>
      <td>41.8</td>
      <td>17.18</td>
      <td>3.90</td>
    </tr>
    <tr>
      <th>1</th>
      <td>X14728</td>
      <td>0.636</td>
      <td>2.30</td>
      <td>5.14</td>
      <td>38.1</td>
      <td>12.73</td>
      <td>3.89</td>
    </tr>
    <tr>
      <th>2</th>
      <td>X15468</td>
      <td>0.841</td>
      <td>2.85</td>
      <td>5.20</td>
      <td>37.6</td>
      <td>13.58</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>3</th>
      <td>X21364</td>
      <td>0.609</td>
      <td>2.13</td>
      <td>4.62</td>
      <td>34.2</td>
      <td>11.12</td>
      <td>4.02</td>
    </tr>
    <tr>
      <th>4</th>
      <td>X23671</td>
      <td>0.684</td>
      <td>2.16</td>
      <td>4.87</td>
      <td>36.4</td>
      <td>12.24</td>
      <td>3.92</td>
    </tr>
    <tr>
      <th>5</th>
      <td>X24055</td>
      <td>0.762</td>
      <td>2.81</td>
      <td>6.36</td>
      <td>38.1</td>
      <td>13.28</td>
      <td>3.89</td>
    </tr>
    <tr>
      <th>6</th>
      <td>X24905</td>
      <td>0.552</td>
      <td>2.34</td>
      <td>5.03</td>
      <td>41.3</td>
      <td>16.71</td>
      <td>3.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>X25917</td>
      <td>0.501</td>
      <td>2.17</td>
      <td>5.09</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>X27871</td>
      <td>0.619</td>
      <td>2.11</td>
      <td>5.13</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>X28690</td>
      <td>0.610</td>
      <td>2.10</td>
      <td>4.18</td>
      <td>35.0</td>
      <td>12.15</td>
      <td>3.86</td>
    </tr>
    <tr>
      <th>10</th>
      <td>X31385</td>
      <td>0.532</td>
      <td>2.09</td>
      <td>4.93</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>X31813</td>
      <td>0.738</td>
      <td>2.29</td>
      <td>5.47</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>X32807</td>
      <td>0.779</td>
      <td>2.62</td>
      <td>5.59</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>X33943</td>
      <td>0.537</td>
      <td>2.23</td>
      <td>5.41</td>
      <td>35.2</td>
      <td>11.34</td>
      <td>3.99</td>
    </tr>
    <tr>
      <th>14</th>
      <td>X35035</td>
      <td>0.702</td>
      <td>2.05</td>
      <td>5.10</td>
      <td>34.2</td>
      <td>10.54</td>
      <td>4.02</td>
    </tr>
    <tr>
      <th>15</th>
      <td>X39223</td>
      <td>0.768</td>
      <td>2.51</td>
      <td>5.09</td>
      <td>34.9</td>
      <td>12.55</td>
      <td>3.90</td>
    </tr>
    <tr>
      <th>16</th>
      <td>X40503</td>
      <td>0.714</td>
      <td>2.56</td>
      <td>6.03</td>
      <td>35.6</td>
      <td>12.20</td>
      <td>4.02</td>
    </tr>
    <tr>
      <th>17</th>
      <td>X41400</td>
      <td>0.621</td>
      <td>2.42</td>
      <td>5.10</td>
      <td>38.7</td>
      <td>14.27</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>18</th>
      <td>X42988</td>
      <td>0.726</td>
      <td>2.11</td>
      <td>4.69</td>
      <td>37.1</td>
      <td>13.14</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>19</th>
      <td>X44749</td>
      <td>0.698</td>
      <td>2.36</td>
      <td>5.40</td>
      <td>36.6</td>
      <td>12.16</td>
      <td>4.01</td>
    </tr>
    <tr>
      <th>20</th>
      <td>X45295</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>38.1</td>
      <td>13.34</td>
      <td>3.89</td>
    </tr>
    <tr>
      <th>21</th>
      <td>X46965</td>
      <td>0.759</td>
      <td>2.47</td>
      <td>4.83</td>
      <td>38.7</td>
      <td>14.83</td>
      <td>3.89</td>
    </tr>
    <tr>
      <th>22</th>
      <td>X49666</td>
      <td>0.535</td>
      <td>2.13</td>
      <td>5.23</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>23</th>
      <td>X50678</td>
      <td>0.716</td>
      <td>2.29</td>
      <td>5.45</td>
      <td>37.3</td>
      <td>13.70</td>
      <td>3.92</td>
    </tr>
    <tr>
      <th>24</th>
      <td>X52894</td>
      <td>0.635</td>
      <td>2.08</td>
      <td>4.94</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>25</th>
      <td>X53925</td>
      <td>0.598</td>
      <td>2.12</td>
      <td>4.69</td>
      <td>37.9</td>
      <td>13.45</td>
      <td>3.78</td>
    </tr>
    <tr>
      <th>26</th>
      <td>X54254</td>
      <td>0.700</td>
      <td>2.47</td>
      <td>5.22</td>
      <td>38.8</td>
      <td>14.72</td>
      <td>3.92</td>
    </tr>
    <tr>
      <th>27</th>
      <td>X54272</td>
      <td>0.957</td>
      <td>2.96</td>
      <td>7.37</td>
      <td>36.2</td>
      <td>13.38</td>
      <td>4.20</td>
    </tr>
    <tr>
      <th>28</th>
      <td>X54394</td>
      <td>0.759</td>
      <td>2.66</td>
      <td>5.36</td>
      <td>35.2</td>
      <td>12.19</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>29</th>
      <td>X55408</td>
      <td>0.661</td>
      <td>2.10</td>
      <td>4.27</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>30</th>
      <td>X56952</td>
      <td>0.646</td>
      <td>2.38</td>
      <td>4.51</td>
      <td>40.1</td>
      <td>15.68</td>
      <td>3.86</td>
    </tr>
    <tr>
      <th>31</th>
      <td>X57095</td>
      <td>0.662</td>
      <td>2.34</td>
      <td>4.71</td>
      <td>35.0</td>
      <td>12.37</td>
      <td>3.90</td>
    </tr>
    <tr>
      <th>32</th>
      <td>X57128</td>
      <td>0.749</td>
      <td>2.43</td>
      <td>5.16</td>
      <td>37.3</td>
      <td>13.04</td>
      <td>3.92</td>
    </tr>
    <tr>
      <th>33</th>
      <td>X61870</td>
      <td>0.598</td>
      <td>2.21</td>
      <td>4.90</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>34</th>
      <td>X61888</td>
      <td>0.619</td>
      <td>2.59</td>
      <td>5.81</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>35</th>
      <td>X72736</td>
      <td>0.693</td>
      <td>2.05</td>
      <td>5.02</td>
      <td>39.6</td>
      <td>15.55</td>
      <td>3.94</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>let us quantify the amount of missing data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">material_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">material_df</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sample       0.00
size1        2.78
size2        2.78
size3        2.78
density1    27.78
density2    27.78
density3    27.78
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Unfortunately that is a lot of missing data, covered in all records, dropping here seems almost impossible if we want to keep a healthy amount of records.</p>
<p>Here it would be wise to go for a more elaborate method of imputation, I opted for the K-nearest neighbours method, which looks at the K most similar records in the dataset to make an educated guess on what the missing value could be, this because we can assume that records with similar data are also similar over all the properties (columns).</p>
<p>Im using the sklearn library for this, which has more imputation techniques such as MICE.
More info can be found <a class="reference external" href="https://scikit-learn.org/stable/modules/impute.html">here</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">KNNImputer</span>
</pre></div>
</div>
</div>
</div>
<p>im creating an imputer object and specify that i want to use the 5 most similar records and weigh them by distance from the to imputed record, meaning closer neighbours are more important.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As the imputer only takes numerical values I had to do some pandas magic and drop the first column, which I then added again. The result is a fully filled dataset, you can recognise the new values as they are not rounded.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">material_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Sample&#39;</span><span class="p">])),</span> 
    <span class="n">columns</span><span class="o">=</span><span class="n">material_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Sample&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>size1</th>
      <th>size2</th>
      <th>size3</th>
      <th>density1</th>
      <th>density2</th>
      <th>density3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.696000</td>
      <td>2.690000</td>
      <td>6.380000</td>
      <td>41.800000</td>
      <td>17.180000</td>
      <td>3.900000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.636000</td>
      <td>2.300000</td>
      <td>5.140000</td>
      <td>38.100000</td>
      <td>12.730000</td>
      <td>3.890000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.841000</td>
      <td>2.850000</td>
      <td>5.200000</td>
      <td>37.600000</td>
      <td>13.580000</td>
      <td>3.980000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.609000</td>
      <td>2.130000</td>
      <td>4.620000</td>
      <td>34.200000</td>
      <td>11.120000</td>
      <td>4.020000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.684000</td>
      <td>2.160000</td>
      <td>4.870000</td>
      <td>36.400000</td>
      <td>12.240000</td>
      <td>3.920000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.762000</td>
      <td>2.810000</td>
      <td>6.360000</td>
      <td>38.100000</td>
      <td>13.280000</td>
      <td>3.890000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.552000</td>
      <td>2.340000</td>
      <td>5.030000</td>
      <td>41.300000</td>
      <td>16.710000</td>
      <td>3.860000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.501000</td>
      <td>2.170000</td>
      <td>5.090000</td>
      <td>38.495282</td>
      <td>14.029399</td>
      <td>3.931180</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.619000</td>
      <td>2.110000</td>
      <td>5.130000</td>
      <td>37.405275</td>
      <td>13.157346</td>
      <td>3.943667</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.610000</td>
      <td>2.100000</td>
      <td>4.180000</td>
      <td>35.000000</td>
      <td>12.150000</td>
      <td>3.860000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.532000</td>
      <td>2.090000</td>
      <td>4.930000</td>
      <td>37.811132</td>
      <td>13.646072</td>
      <td>3.908364</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.738000</td>
      <td>2.290000</td>
      <td>5.470000</td>
      <td>37.088833</td>
      <td>13.255412</td>
      <td>3.941654</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0.779000</td>
      <td>2.620000</td>
      <td>5.590000</td>
      <td>36.540567</td>
      <td>12.889902</td>
      <td>3.970973</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0.537000</td>
      <td>2.230000</td>
      <td>5.410000</td>
      <td>35.200000</td>
      <td>11.340000</td>
      <td>3.990000</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0.702000</td>
      <td>2.050000</td>
      <td>5.100000</td>
      <td>34.200000</td>
      <td>10.540000</td>
      <td>4.020000</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0.768000</td>
      <td>2.510000</td>
      <td>5.090000</td>
      <td>34.900000</td>
      <td>12.550000</td>
      <td>3.900000</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0.714000</td>
      <td>2.560000</td>
      <td>6.030000</td>
      <td>35.600000</td>
      <td>12.200000</td>
      <td>4.020000</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.621000</td>
      <td>2.420000</td>
      <td>5.100000</td>
      <td>38.700000</td>
      <td>14.270000</td>
      <td>3.980000</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.726000</td>
      <td>2.110000</td>
      <td>4.690000</td>
      <td>37.100000</td>
      <td>13.140000</td>
      <td>3.980000</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.698000</td>
      <td>2.360000</td>
      <td>5.400000</td>
      <td>36.600000</td>
      <td>12.160000</td>
      <td>4.010000</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0.733097</td>
      <td>2.653959</td>
      <td>5.881504</td>
      <td>38.100000</td>
      <td>13.340000</td>
      <td>3.890000</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0.759000</td>
      <td>2.470000</td>
      <td>4.830000</td>
      <td>38.700000</td>
      <td>14.830000</td>
      <td>3.890000</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0.535000</td>
      <td>2.130000</td>
      <td>5.230000</td>
      <td>37.391815</td>
      <td>13.089536</td>
      <td>3.944335</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0.716000</td>
      <td>2.290000</td>
      <td>5.450000</td>
      <td>37.300000</td>
      <td>13.700000</td>
      <td>3.920000</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0.635000</td>
      <td>2.080000</td>
      <td>4.940000</td>
      <td>37.254724</td>
      <td>13.206262</td>
      <td>3.933904</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0.598000</td>
      <td>2.120000</td>
      <td>4.690000</td>
      <td>37.900000</td>
      <td>13.450000</td>
      <td>3.780000</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0.700000</td>
      <td>2.470000</td>
      <td>5.220000</td>
      <td>38.800000</td>
      <td>14.720000</td>
      <td>3.920000</td>
    </tr>
    <tr>
      <th>27</th>
      <td>0.957000</td>
      <td>2.960000</td>
      <td>7.370000</td>
      <td>36.200000</td>
      <td>13.380000</td>
      <td>4.200000</td>
    </tr>
    <tr>
      <th>28</th>
      <td>0.759000</td>
      <td>2.660000</td>
      <td>5.360000</td>
      <td>35.200000</td>
      <td>12.190000</td>
      <td>3.980000</td>
    </tr>
    <tr>
      <th>29</th>
      <td>0.661000</td>
      <td>2.100000</td>
      <td>4.270000</td>
      <td>36.172345</td>
      <td>12.755632</td>
      <td>3.887375</td>
    </tr>
    <tr>
      <th>30</th>
      <td>0.646000</td>
      <td>2.380000</td>
      <td>4.510000</td>
      <td>40.100000</td>
      <td>15.680000</td>
      <td>3.860000</td>
    </tr>
    <tr>
      <th>31</th>
      <td>0.662000</td>
      <td>2.340000</td>
      <td>4.710000</td>
      <td>35.000000</td>
      <td>12.370000</td>
      <td>3.900000</td>
    </tr>
    <tr>
      <th>32</th>
      <td>0.749000</td>
      <td>2.430000</td>
      <td>5.160000</td>
      <td>37.300000</td>
      <td>13.040000</td>
      <td>3.920000</td>
    </tr>
    <tr>
      <th>33</th>
      <td>0.598000</td>
      <td>2.210000</td>
      <td>4.900000</td>
      <td>37.865882</td>
      <td>13.826029</td>
      <td>3.887021</td>
    </tr>
    <tr>
      <th>34</th>
      <td>0.619000</td>
      <td>2.590000</td>
      <td>5.810000</td>
      <td>35.932339</td>
      <td>12.318210</td>
      <td>3.989911</td>
    </tr>
    <tr>
      <th>35</th>
      <td>0.693000</td>
      <td>2.050000</td>
      <td>5.020000</td>
      <td>39.600000</td>
      <td>15.550000</td>
      <td>3.940000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This concludes the part of missing values, perhaps you can try yourself and impute the missing values for the FuelEconomy using the SimpleImputer or even the IterativeImputer.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./c2_data_preparation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="introduction.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title"><span class="section-number">2. </span>Introduction</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="concatenation_deduplication.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title"><span class="section-number">4. </span>Concatenation and deduplication</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Lorenz Feyen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>