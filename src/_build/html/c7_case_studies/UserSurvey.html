
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>38. Case Study: User survey &#8212; Data Science - A practical Approach</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="39. Case Study: Jokes" href="Jokes.html" />
    <link rel="prev" title="37. Case Study: Olympic medals" href="Olympics.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">Data Science - A practical Approach</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../foreword.html">
   Foreword
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  1. Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c1_introduction/introduction.html">
   1. Introduction
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  2. Data Preparation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/introduction.html">
   2. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/missing_data.html">
   3. Missing Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/concatenation_deduplication.html">
   4. Concatenation and deduplication
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/outliers.html">
   5. Outliers and validity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/string_operations.html">
   6. String operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/datetime_operations.html">
   7. Datetime operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/categorical_encoding.html">
   8. Categorical encoding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/scaling_normalization.html">
   10. Scaling and Normalization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/binning_ranking.html">
   11. Binning and ranking
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c2_data_preparation/some_practice.html">
   12. Some practice
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  3. Data Preprocessing
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/introduction.html">
   13. Data Preprocessing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/indexing_slicing.html">
   14. Indexing and slicing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/merge.html">
   15. Merge
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/groupby.html">
   16. Groupby
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/pivot.html">
   17. Pivot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c3_data_preprocessing/sql_integration.html">
   18. Using SQL
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  4. Data Visualisation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/introduction.html">
   19. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/line.html">
   20. Line plot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/histogram.html">
   21. Histogram plot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/box.html">
   22. Box plot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/scatter.html">
   23. Scatter plot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c4_data_visualisation/heatmap.html">
   24. Heatmap plot
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  5. Data Exploration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/introduction.html">
   25. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/variable_identification.html">
   26. Variable identification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/univariate_analysis.html">
   27. Uni-variate analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/bivariate_analysis.html">
   28. Bi-variate analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/external_data.html">
   29. New Data Sources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/feature_engineering.html">
   30. Feature Enhancing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/cluster_analysis.html">
   31. Cluster analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/variance_inflation.html">
   32. VIF: Variance Inflation Factor
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../c5_data_exploration/principle_component_analysis.html">
   33. Principle Component Analysis
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  6. Machine Learning
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../c6_machine_learning/introduction.html">
   34. Machine Learning
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  7. Case Studies
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Olist.html">
   35. Case study: Olist
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Churn.html">
   36. Case Study: Churn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Olympics.html">
   37. Case Study: Olympic medals
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   38. Case Study: User survey
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Jokes.html">
   39. Case Study: Jokes
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/c7_case_studies/UserSurvey.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/LorenzF/data-science-practical-approach"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/LorenzF/data-science-practical-approach/issues/new?title=Issue%20on%20page%20%2Fc7_case_studies/UserSurvey.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/LorenzF/data-science-practical-approach/master?urlpath=tree/src/c7_case_studies/UserSurvey.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/LorenzF/data-science-practical-approach/blob/master/src/c7_case_studies/UserSurvey.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goals">
   38.1. Goals
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parsing">
   38.2. Parsing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparation">
   38.3. Preparation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-types">
     38.3.1. Data Types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#missing-values">
     38.3.2. Missing values
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#duplicates">
     38.3.3. Duplicates
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processing">
   38.4. Processing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#one-hot-encoding-questions">
     38.4.1. One hot encoding questions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mean-choice-matrix">
     38.4.2. Mean choice Matrix
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#count-matrix">
     38.4.3. Count matrix
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exploration">
   38.5. Exploration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#common-skills">
     38.5.1. Common skills
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#time-spend">
     38.5.2. Time spend
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#age-vs-experience">
     38.5.3. Age vs experience
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualisation">
   38.6. Visualisation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   38.7. Summary
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="case-study-user-survey">
<h1><span class="section-number">38. </span>Case Study: User survey<a class="headerlink" href="#case-study-user-survey" title="Permalink to this headline">¶</a></h1>
<p>In this case study we figure out how to analyse the responses from a user survey form kaggle</p>
<p>The case study is divided into several parts:</p>
<ul class="simple">
<li><p>Goals</p></li>
<li><p>Parsing</p></li>
<li><p>Preparation (cleaning)</p></li>
<li><p>Processing</p></li>
<li><p>Exploration</p></li>
<li><p>Visualization</p></li>
<li><p>Conclusion</p></li>
</ul>
<div class="section" id="goals">
<h2><span class="section-number">38.1. </span>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<p>In this section we define questions that will be our guideline througout the case study</p>
<ul class="simple">
<li><p>What influences salary?</p></li>
<li><p>Can we deduce common skills for job titles?</p></li>
<li><p>Do higher paid jobs spend time differently?</p></li>
<li><p>Important: education or experience?</p></li>
</ul>
<p>We’ll (try to) keep these question in mind when performing the case study.</p>
</div>
<div class="section" id="parsing">
<h2><span class="section-number">38.2. </span>Parsing<a class="headerlink" href="#parsing" title="Permalink to this headline">¶</a></h2>
<p>we start out by importing all necessary libraries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">set_matplotlib_formats</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;svg&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_9037/2151882340.py:10: DeprecationWarning: `set_matplotlib_formats` is deprecated since IPython 7.23, directly use `matplotlib_inline.backend_inline.set_matplotlib_formats()`
  set_matplotlib_formats(&#39;svg&#39;)
</pre></div>
</div>
</div>
</div>
<p>in order to download datasets from kaggle, we need an API key to access their API, we’ll make that here</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.kaggle&#39;</span><span class="p">)):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.kaggle&#39;</span><span class="p">))</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.kaggle/kaggle.json&#39;</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;lorenzf&quot;</span><span class="p">,</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span><span class="s2">&quot;7a44a9e99b27e796177d793a3d85b8cf&quot;</span>
        <span class="p">}</span>
        <span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>now we can import kaggle too and download the datasets</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">kaggle</span>
<span class="n">kaggle</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">dataset_download_files</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s1">&#39;kaggle/kaggle-survey-2018&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./data&#39;</span><span class="p">,</span> <span class="n">unzip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_9037</span><span class="o">/</span><span class="mf">707767778.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">kaggle</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">kaggle</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">dataset_download_files</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s1">&#39;kaggle/kaggle-survey-2018&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./data&#39;</span><span class="p">,</span> <span class="n">unzip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;kaggle&#39;
</pre></div>
</div>
</div>
</div>
<p>the csv files are now in the ‘./data’ folder, we can now read them using pandas, here is the list of all csv files in our folder</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;./data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;WA_Fn-UseC_-Telco-Customer-Churn.csv&#39;,
 &#39;API_NY.GDP.PCAP.CD_DS2_en_csv_v2_3358201.csv&#39;,
 &#39;noc_regions.csv&#39;,
 &#39;freeFormResponses.csv&#39;,
 &#39;SurveySchema.csv&#39;,
 &#39;jester_ratings.csv&#39;,
 &#39;multipleChoiceResponses.csv&#39;,
 &#39;one-million-reddit-jokes.csv&#39;,
 &#39;jester_items.csv&#39;,
 &#39;athlete_events.csv&#39;,
 &#39;API_SP.POP.TOTL_DS2_en_csv_v2_3358390.csv&#39;]
</pre></div>
</div>
</div>
</div>
<p>The file of our interest is ‘multipleChoiceResponses.csv’, it contains the multiple choice responses of our subjects. Let’s print out the top 5 events.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/multipleChoiceResponses.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shape: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>shape: (23860, 395)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/lorenzf/.local/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3441: DtypeWarning: Columns (0,2,8,10,21,23,24,25,26,27,28,44,56,64,83,85,87,107,109,123,125,150,157,172,174,194,210,218,219,223,246,249,262,264,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,304,306,325,326,329,341,368,371,384,385,389,390,391,393,394) have mixed types.Specify dtype option on import or set low_memory=False.
  exec(code_obj, self.user_global_ns, self.user_ns)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time from Start to Finish (seconds)</th>
      <th>Q1</th>
      <th>Q1_OTHER_TEXT</th>
      <th>Q2</th>
      <th>Q3</th>
      <th>Q4</th>
      <th>Q5</th>
      <th>Q6</th>
      <th>Q6_OTHER_TEXT</th>
      <th>Q7</th>
      <th>...</th>
      <th>Q49_OTHER_TEXT</th>
      <th>Q50_Part_1</th>
      <th>Q50_Part_2</th>
      <th>Q50_Part_3</th>
      <th>Q50_Part_4</th>
      <th>Q50_Part_5</th>
      <th>Q50_Part_6</th>
      <th>Q50_Part_7</th>
      <th>Q50_Part_8</th>
      <th>Q50_OTHER_TEXT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Duration (in seconds)</td>
      <td>What is your gender? - Selected Choice</td>
      <td>What is your gender? - Prefer to self-describe...</td>
      <td>What is your age (# years)?</td>
      <td>In which country do you currently reside?</td>
      <td>What is the highest level of formal education ...</td>
      <td>Which best describes your undergraduate major?...</td>
      <td>Select the title most similar to your current ...</td>
      <td>Select the title most similar to your current ...</td>
      <td>In what industry is your current employer/cont...</td>
      <td>...</td>
      <td>What tools and methods do you use to make your...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>What barriers prevent you from making your wor...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>710</td>
      <td>Female</td>
      <td>-1</td>
      <td>45-49</td>
      <td>United States of America</td>
      <td>Doctoral degree</td>
      <td>Other</td>
      <td>Consultant</td>
      <td>-1</td>
      <td>Other</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>434</td>
      <td>Male</td>
      <td>-1</td>
      <td>30-34</td>
      <td>Indonesia</td>
      <td>Bachelor’s degree</td>
      <td>Engineering (non-computer focused)</td>
      <td>Other</td>
      <td>0</td>
      <td>Manufacturing/Fabrication</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>718</td>
      <td>Female</td>
      <td>-1</td>
      <td>30-34</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Data Scientist</td>
      <td>-1</td>
      <td>I am a student</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>Too time-consuming</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>621</td>
      <td>Male</td>
      <td>-1</td>
      <td>35-39</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>Social sciences (anthropology, psychology, soc...</td>
      <td>Not employed</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Requires too much technical knowledge</td>
      <td>NaN</td>
      <td>Not enough incentives to share my work</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 395 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">free_form_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/freeFormResponses.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;shape: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">free_form_df</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="n">free_form_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>shape: (23860, 35)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/lorenzf/.local/lib/python3.8/site-packages/IPython/core/interactiveshell.py:3441: DtypeWarning: Columns (25) have mixed types.Specify dtype option on import or set low_memory=False.
  exec(code_obj, self.user_global_ns, self.user_ns)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q11_OTHER_TEXT</th>
      <th>Q12_OTHER_TEXT</th>
      <th>Q12_Part_1_TEXT</th>
      <th>Q12_Part_2_TEXT</th>
      <th>Q12_Part_3_TEXT</th>
      <th>Q12_Part_4_TEXT</th>
      <th>Q12_Part_5_TEXT</th>
      <th>Q13_OTHER_TEXT</th>
      <th>Q14_OTHER_TEXT</th>
      <th>Q15_OTHER_TEXT</th>
      <th>...</th>
      <th>Q34_OTHER_TEXT</th>
      <th>Q35_OTHER_TEXT</th>
      <th>Q36_OTHER_TEXT</th>
      <th>Q37_OTHER_TEXT</th>
      <th>Q38_OTHER_TEXT</th>
      <th>Q42_OTHER_TEXT</th>
      <th>Q49_OTHER_TEXT</th>
      <th>Q50_OTHER_TEXT</th>
      <th>Q6_OTHER_TEXT</th>
      <th>Q7_OTHER_TEXT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Select any activities that make up an importan...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>What is the primary tool that you use at work ...</td>
      <td>Which of the following integrated development ...</td>
      <td>Which of the following hosted notebooks have y...</td>
      <td>Which of the following cloud computing service...</td>
      <td>...</td>
      <td>During a typical data science project at work ...</td>
      <td>What percentage of your current machine learni...</td>
      <td>On which online platforms have you begun or co...</td>
      <td>On which online platform have you spent the mo...</td>
      <td>Who/what are your favorite media sources that ...</td>
      <td>What metrics do you or your organization use t...</td>
      <td>What tools and methods do you use to make your...</td>
      <td>What barriers prevent you from making your wor...</td>
      <td>Select the title most similar to your current ...</td>
      <td>In what industry is your current employer/cont...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Jupyter Notebooks, Pycharm, Intelijidea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>mlcourse.ai</td>
      <td>NaN</td>
      <td>ods.ai</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>anaconda</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 35 columns</p>
</div></div></div>
</div>
<p>I saw that the first row of our choice dataframe contains the questions, to let’s extract that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">choice_df</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time from Start to Finish (seconds)                                Duration (in seconds)
Q1                                                What is your gender? - Selected Choice
Q1_OTHER_TEXT                          What is your gender? - Prefer to self-describe...
Q2                                                           What is your age (# years)?
Q3                                             In which country do you currently reside?
Q4                                     What is the highest level of formal education ...
Q5                                     Which best describes your undergraduate major?...
Q6                                     Select the title most similar to your current ...
Q6_OTHER_TEXT                          Select the title most similar to your current ...
Q7                                     In what industry is your current employer/cont...
Q7_OTHER_TEXT                          In what industry is your current employer/cont...
Q8                                     How many years of experience do you have in yo...
Q9                                     What is your current yearly compensation (appr...
Q10                                    Does your current employer incorporate machine...
Q11_Part_1                             Select any activities that make up an importan...
Q11_Part_2                             Select any activities that make up an importan...
Q11_Part_3                             Select any activities that make up an importan...
Q11_Part_4                             Select any activities that make up an importan...
Q11_Part_5                             Select any activities that make up an importan...
Q11_Part_6                             Select any activities that make up an importan...
Name: 0, dtype: object
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="preparation">
<h2><span class="section-number">38.3. </span>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h2>
<p>here we perform tasks to prepare the data in a more pleasing format.</p>
<div class="section" id="data-types">
<h3><span class="section-number">38.3.1. </span>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h3>
<p>Before we do anything with our data, it is good to see if our data types are in order</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 23859 entries, 1 to 23859
Columns: 395 entries, Time from Start to Finish (seconds) to Q50_OTHER_TEXT
dtypes: object(395)
memory usage: 72.1+ MB
</pre></div>
</div>
</div>
</div>
<p>Seems there are to many too show, so we have to do some manual work, The first 10 questions seem to be about personal info, where the first one is about gender</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q1</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q1</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>What is your gender? - Selected Choice
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Male                       19430
Female                      4010
Prefer not to say            340
Prefer to self-describe       79
Name: Q1, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q1_OTHER_TEXT</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q1_OTHER_TEXT</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>What is your gender? - Prefer to self-describe - Text
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;-1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, -1, 7, 8, 9, 10, 11, 12, 13, 14, 15,
       16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 4,
       32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48,
       49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65,
       66, 67], dtype=object)
</pre></div>
</div>
</div>
</div>
<p>Hmm the self-describe seems to already been encoded, as there are so many different answers I would opt to ignore those results as they only take up 79 answers of all 24k.
For the second question I am going to convert it to an ordinal value, this way we know the order of the categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q2</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">Q2</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;18-21&#39;</span><span class="p">,</span> <span class="s1">&#39;22-24&#39;</span><span class="p">,</span> <span class="s1">&#39;25-29&#39;</span><span class="p">,</span> <span class="s1">&#39;30-34&#39;</span><span class="p">,</span> <span class="s1">&#39;35-39&#39;</span><span class="p">,</span> <span class="s1">&#39;40-44&#39;</span><span class="p">,</span> <span class="s1">&#39;45-49&#39;</span><span class="p">,</span> <span class="s1">&#39;50-54&#39;</span><span class="p">,</span> <span class="s1">&#39;55-59&#39;</span><span class="p">,</span> <span class="s1">&#39;60-69&#39;</span><span class="p">,</span> <span class="s1">&#39;70-79&#39;</span><span class="p">,</span> <span class="s1">&#39;80+&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q2</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>What is your age (# years)?
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1        45-49
2        30-34
3        30-34
4        35-39
5        22-24
         ...  
23855    45-49
23856    25-29
23857    22-24
23858    25-29
23859    25-29
Name: Q2, Length: 23859, dtype: category
Categories (12, object): [&#39;18-21&#39; &lt; &#39;22-24&#39; &lt; &#39;25-29&#39; &lt; &#39;30-34&#39; ... &#39;55-59&#39; &lt; &#39;60-69&#39; &lt; &#39;70-79&#39; &lt; &#39;80+&#39;]
</pre></div>
</div>
</div>
</div>
<p>Next we have a few very important questions that signify the situation of each user in our survey. I chose for nominal categories as I don’t want to be biased.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q6</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q6</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Select the title most similar to your current role (or most recent title if retired): - Selected Choice
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Student                    5253
Data Scientist             4137
Software Engineer          3130
Data Analyst               1922
Other                      1322
Research Scientist         1189
Not employed                842
Consultant                  785
Business Analyst            772
Data Engineer               737
Research Assistant          600
Manager                     590
Product/Project Manager     428
Chief Officer               360
Statistician                237
DBA/Database Engineer       145
Developer Advocate          117
Marketing Analyst           115
Salesperson                 102
Principal Investigator       97
Data Journalist              20
Name: Q6, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="p">[[</span><span class="s1">&#39;Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q5&#39;</span><span class="p">,</span> <span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q7&#39;</span><span class="p">]])</span>
<span class="n">choice_df</span><span class="p">[[</span><span class="s1">&#39;Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q5&#39;</span><span class="p">,</span> <span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q7&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">choice_df</span><span class="p">[[</span><span class="s1">&#39;Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q5&#39;</span><span class="p">,</span> <span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q7&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q3            In which country do you currently reside?
Q4    What is the highest level of formal education ...
Q5    Which best describes your undergraduate major?...
Q6    Select the title most similar to your current ...
Q7    In what industry is your current employer/cont...
Name: 0, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Question 8 is about experience, or as they call it tenure. Not as a numerical value but in categories, so again I create an ordinal category from it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q8</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q8</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>How many years of experience do you have in your current role?
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0-1      5898
1-2      3745
2-3      2577
5-10     2524
3-4      1751
10-15    1512
4-5      1488
15-20     854
20-25     384
30 +      197
25-30     171
Name: Q8, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q8</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">Q8</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0-1&#39;</span><span class="p">,</span> <span class="s1">&#39;1-2&#39;</span><span class="p">,</span> <span class="s1">&#39;2-3&#39;</span><span class="p">,</span> <span class="s1">&#39;3-4&#39;</span><span class="p">,</span> <span class="s1">&#39;4-5&#39;</span><span class="p">,</span> <span class="s1">&#39;5-10&#39;</span><span class="p">,</span> <span class="s1">&#39;10-15&#39;</span><span class="p">,</span> <span class="s1">&#39;15-20&#39;</span><span class="p">,</span> <span class="s1">&#39;20-25&#39;</span><span class="p">,</span> <span class="s1">&#39;25-30&#39;</span><span class="p">,</span> <span class="s1">&#39;30 +&#39;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q8</span><span class="p">)</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q8</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>How many years of experience do you have in your current role?
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1         NaN
2        5-10
3         0-1
4         NaN
5         0-1
         ... 
23855    5-10
23856     NaN
23857     0-1
23858     NaN
23859     NaN
Name: Q8, Length: 23859, dtype: category
Categories (11, object): [&#39;0-1&#39; &lt; &#39;1-2&#39; &lt; &#39;2-3&#39; &lt; &#39;3-4&#39; ... &#39;15-20&#39; &lt; &#39;20-25&#39; &lt; &#39;25-30&#39; &lt; &#39;30 +&#39;]
</pre></div>
</div>
</div>
</div>
<p>And not to forget we have the salary, again as a category, which is unfortunate since we could have been able to create a more accurate prediction in the end.
Here I opt for an ordinal category.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I do not wish to disclose my approximate yearly compensation    4756
0-10,000                                                        4398
10-20,000                                                       1937
20-30,000                                                       1395
30-40,000                                                       1119
40-50,000                                                        965
50-60,000                                                        919
100-125,000                                                      843
60-70,000                                                        729
70-80,000                                                        677
90-100,000                                                       566
125-150,000                                                      533
80-90,000                                                        506
150-200,000                                                      457
200-250,000                                                      172
250-300,000                                                       75
500,000+                                                          63
300-400,000                                                       52
400-500,000                                                       23
Name: Q9, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0-10,000&#39;</span><span class="p">,</span> <span class="s1">&#39;10-20,000&#39;</span><span class="p">,</span> <span class="s1">&#39;20-30,000&#39;</span><span class="p">,</span> <span class="s1">&#39;30-40,000&#39;</span><span class="p">,</span> <span class="s1">&#39;40-50,000&#39;</span><span class="p">,</span> <span class="s1">&#39;50-60,000&#39;</span><span class="p">,</span> <span class="s1">&#39;60-70,000&#39;</span><span class="p">,</span> <span class="s1">&#39;70-80,000&#39;</span><span class="p">,</span> <span class="s1">&#39;80-90,000&#39;</span><span class="p">,</span> <span class="s1">&#39;90-100,000&#39;</span><span class="p">,</span> <span class="s1">&#39;100-125,000&#39;</span><span class="p">,</span> <span class="s1">&#39;125-150,000&#39;</span><span class="p">,</span> <span class="s1">&#39;150-200,000&#39;</span><span class="p">,</span> <span class="s1">&#39;200-250,000&#39;</span><span class="p">,</span> <span class="s1">&#39;250-300,000&#39;</span><span class="p">,</span> <span class="s1">&#39;300-400,000&#39;</span><span class="p">,</span> <span class="s1">&#39;400-500,000&#39;</span><span class="p">,</span> <span class="s1">&#39;500,000+&#39;</span><span class="p">,],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1                NaN
2          10-20,000
3           0-10,000
4                NaN
5           0-10,000
            ...     
23855    250-300,000
23856            NaN
23857      10-20,000
23858            NaN
23859            NaN
Name: Q9, Length: 23859, dtype: category
Categories (18, object): [&#39;0-10,000&#39; &lt; &#39;10-20,000&#39; &lt; &#39;20-30,000&#39; &lt; &#39;30-40,000&#39; ... &#39;250-300,000&#39; &lt; &#39;300-400,000&#39; &lt; &#39;400-500,000&#39; &lt; &#39;500,000+&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="missing-values">
<h3><span class="section-number">38.3.2. </span>Missing values<a class="headerlink" href="#missing-values" title="Permalink to this headline">¶</a></h3>
<p>for each dataframe we apply a few checks in order to see the quality of data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">choice_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">/</span><span class="n">choice_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Time from Start to Finish (seconds)     0.000000
Q1                                      0.000000
Q1_OTHER_TEXT                           0.000000
Q2                                      0.000000
Q3                                      0.000000
Q4                                      1.764533
Q5                                      3.822457
Q6                                      4.019448
Q6_OTHER_TEXT                           0.000000
Q7                                      9.111866
Q7_OTHER_TEXT                           0.000000
Q8                                     11.559579
Q9                                     35.332579
Q10                                    13.370217
Q11_Part_1                             60.048619
Q11_Part_2                             77.027537
Q11_Part_3                             78.066977
Q11_Part_4                             69.684396
Q11_Part_5                             79.320173
Q11_Part_6                             85.452031
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>You can clearly see that there are a lot of missing values, for questions 11 and onwards this is just because they did not check that answer on a question, but for 1-10 this is a problem as these are ‘mandatory’ questions. I have no idea how to fill this in and salary is missing about 35%, pretty disastrous, but this is to be expected with user surveys.</p>
<p>Another problem we have here is trolls, there might have been persons that would just fill this in to mess with our data collection, I thought they might have been funny and answered a high salary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="p">[</span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">==</span><span class="s1">&#39;500,000+&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Q2</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25-29    13
35-39    10
30-34     7
80+       7
50-54     6
45-49     5
18-21     4
22-24     4
55-59     4
60-69     3
40-44     0
70-79     0
Name: Q2, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>you can see there are 13 persons between 25-29 that earn more than 500k annually, which i think is near impossible. Let us see what they are upto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="p">[(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">==</span><span class="s1">&#39;500,000+&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q2</span><span class="o">==</span><span class="s1">&#39;25-29&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time from Start to Finish (seconds)</th>
      <th>Q1</th>
      <th>Q1_OTHER_TEXT</th>
      <th>Q2</th>
      <th>Q3</th>
      <th>Q4</th>
      <th>Q5</th>
      <th>Q6</th>
      <th>Q6_OTHER_TEXT</th>
      <th>Q7</th>
      <th>...</th>
      <th>Q49_OTHER_TEXT</th>
      <th>Q50_Part_1</th>
      <th>Q50_Part_2</th>
      <th>Q50_Part_3</th>
      <th>Q50_Part_4</th>
      <th>Q50_Part_5</th>
      <th>Q50_Part_6</th>
      <th>Q50_Part_7</th>
      <th>Q50_Part_8</th>
      <th>Q50_OTHER_TEXT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2322</th>
      <td>561</td>
      <td>Prefer to self-describe</td>
      <td>7</td>
      <td>25-29</td>
      <td>France</td>
      <td>I prefer not to answer</td>
      <td>Other</td>
      <td>Other</td>
      <td>113</td>
      <td>I am a student</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>8899</th>
      <td>2116</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>Philippines</td>
      <td>Bachelor’s degree</td>
      <td>Engineering (non-computer focused)</td>
      <td>Data Analyst</td>
      <td>-1</td>
      <td>Accounting/Finance</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Other</td>
      <td>260</td>
    </tr>
    <tr>
      <th>12092</th>
      <td>1607</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>China</td>
      <td>Doctoral degree</td>
      <td>Information technology, networking, or system ...</td>
      <td>Data Scientist</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>Too time-consuming</td>
      <td>Requires too much technical knowledge</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>13468</th>
      <td>5487</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>India</td>
      <td>Bachelor’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Data Scientist</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>-1</td>
      <td>Too expensive</td>
      <td>Too time-consuming</td>
      <td>Requires too much technical knowledge</td>
      <td>Afraid that others will use my work without gi...</td>
      <td>Not enough incentives to share my work</td>
      <td>I had never considered making my work easier f...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>14367</th>
      <td>359331</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>Kenya</td>
      <td>Bachelor’s degree</td>
      <td>Medical or life sciences (biology, chemistry, ...</td>
      <td>Data Scientist</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>166</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>None of these reasons apply to me</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>15469</th>
      <td>68</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>Mathematics or statistics</td>
      <td>Research Scientist</td>
      <td>-1</td>
      <td>Accounting/Finance</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>15825</th>
      <td>94</td>
      <td>Female</td>
      <td>-1</td>
      <td>25-29</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Business Analyst</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>16404</th>
      <td>78</td>
      <td>Prefer not to say</td>
      <td>-1</td>
      <td>25-29</td>
      <td>United States of America</td>
      <td>No formal education past high school</td>
      <td>NaN</td>
      <td>Consultant</td>
      <td>-1</td>
      <td>Hospitality/Entertainment/Sports</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>18120</th>
      <td>281</td>
      <td>Female</td>
      <td>-1</td>
      <td>25-29</td>
      <td>Colombia</td>
      <td>Doctoral degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Data Scientist</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>20576</th>
      <td>197</td>
      <td>Prefer to self-describe</td>
      <td>65</td>
      <td>25-29</td>
      <td>Belgium</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Student</td>
      <td>-1</td>
      <td>I am a student</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>21122</th>
      <td>183</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>India</td>
      <td>Bachelor’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Software Engineer</td>
      <td>-1</td>
      <td>Computers/Technology</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>22264</th>
      <td>520</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>India</td>
      <td>Master’s degree</td>
      <td>Engineering (non-computer focused)</td>
      <td>Business Analyst</td>
      <td>-1</td>
      <td>Online Business/Internet-based Sales</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>22591</th>
      <td>426</td>
      <td>Female</td>
      <td>-1</td>
      <td>25-29</td>
      <td>Indonesia</td>
      <td>Bachelor’s degree</td>
      <td>Information technology, networking, or system ...</td>
      <td>Research Assistant</td>
      <td>-1</td>
      <td>Academics/Education</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
  </tbody>
</table>
<p>13 rows × 395 columns</p>
</div></div></div>
</div>
<p>No way they are this succesfull, i’m not yet going to remove them, but i’m definitely going to keep this in mind, this might break our predictions!</p>
<p>Later on I will remove the entries without salaries, but im going to keep them in a prediction dataframe, so we could perhaps predict their salary, we don’t have a reference but still might be interesting. For the rest of the preparation im going to keep them in here so the final format of both train and prediction are the same.</p>
</div>
<div class="section" id="duplicates">
<h3><span class="section-number">38.3.3. </span>Duplicates<a class="headerlink" href="#duplicates" title="Permalink to this headline">¶</a></h3>
<p>It is very highly unlikely but just to check if no one has entered the same survey twice, we check for duplicates</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span><span class="p">[</span><span class="n">choice_df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Time from Start to Finish (seconds)</th>
      <th>Q1</th>
      <th>Q1_OTHER_TEXT</th>
      <th>Q2</th>
      <th>Q3</th>
      <th>Q4</th>
      <th>Q5</th>
      <th>Q6</th>
      <th>Q6_OTHER_TEXT</th>
      <th>Q7</th>
      <th>...</th>
      <th>Q49_OTHER_TEXT</th>
      <th>Q50_Part_1</th>
      <th>Q50_Part_2</th>
      <th>Q50_Part_3</th>
      <th>Q50_Part_4</th>
      <th>Q50_Part_5</th>
      <th>Q50_Part_6</th>
      <th>Q50_Part_7</th>
      <th>Q50_Part_8</th>
      <th>Q50_OTHER_TEXT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>15278</th>
      <td>36</td>
      <td>Male</td>
      <td>-1</td>
      <td>18-21</td>
      <td>China</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>15865</th>
      <td>23</td>
      <td>Male</td>
      <td>-1</td>
      <td>18-21</td>
      <td>United States of America</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>17521</th>
      <td>36</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>18257</th>
      <td>27</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>Brazil</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>18320</th>
      <td>46</td>
      <td>Male</td>
      <td>-1</td>
      <td>35-39</td>
      <td>United States of America</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>18966</th>
      <td>43</td>
      <td>Male</td>
      <td>-1</td>
      <td>18-21</td>
      <td>India</td>
      <td>Bachelor’s degree</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>21214</th>
      <td>106</td>
      <td>Male</td>
      <td>-1</td>
      <td>18-21</td>
      <td>India</td>
      <td>Bachelor’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Student</td>
      <td>-1</td>
      <td>I am a student</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>21916</th>
      <td>45</td>
      <td>Male</td>
      <td>-1</td>
      <td>22-24</td>
      <td>China</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>22049</th>
      <td>46</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>China</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>22638</th>
      <td>60</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>China</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>22816</th>
      <td>41</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>I do not wish to disclose my location</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
    <tr>
      <th>23683</th>
      <td>70</td>
      <td>Male</td>
      <td>-1</td>
      <td>25-29</td>
      <td>France</td>
      <td>Master’s degree</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
      <td>NaN</td>
      <td>...</td>
      <td>-1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-1</td>
    </tr>
  </tbody>
</table>
<p>12 rows × 395 columns</p>
</div></div></div>
</div>
<p>I take back my words, seems there are some faulty entries, perhaps we should even improve our bad entry detection? For now im just going to remove duplicates</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_df</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>At this point im going to seperate the non salary entries from our training dataframe. resulting in 2 partitions:</p>
<ul class="simple">
<li><p>train_df</p></li>
<li><p>prediction_df</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prediction_df</span> <span class="o">=</span> <span class="n">choice_df</span><span class="p">[(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span> <span class="o">|</span> <span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">Q9</span><span class="o">==</span><span class="s1">&#39;I do not wish to disclose my approximate yearly compensation&#39;</span><span class="p">)]</span>
<span class="n">train_df</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">prediction_df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;prediction shape:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">prediction_df</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;remaining shape:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>prediction shape:(8418, 395)
remaining shape:(15429, 395)
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="processing">
<h2><span class="section-number">38.4. </span>Processing<a class="headerlink" href="#processing" title="Permalink to this headline">¶</a></h2>
<p>For other questions I selected a few that caught my interest, here is the list that made it. Notice that I did not perform any preparation on these question as they mostly are checkmarks on a survey, yet in processing I am going to create a more convenient method to store them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q11_Part_1</span><span class="p">)</span>
<span class="c1">#print(questions.Q12_Part_1_TEXT)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q13_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q16_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q17</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q19_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q21_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q31_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q34_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q42_Part_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">Q49_Part_1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Select any activities that make up an important part of your role at work: (Select all that apply) - Selected Choice - Analyze and understand data to influence product or business decisions
Which of the following integrated development environments (IDE&#39;s) have you used at work or school in the last 5 years? (Select all that apply) - Selected Choice - Jupyter/IPython
What programming languages do you use on a regular basis? (Select all that apply) - Selected Choice - Python
What specific programming language do you use most often? - Selected Choice
What machine learning frameworks have you used in the past 5 years? (Select all that apply) - Selected Choice - Scikit-Learn
What data visualization libraries or tools have you used in the past 5 years? (Select all that apply) - Selected Choice - ggplot2
Which types of data do you currently interact with most often at work or school? (Select all that apply) - Selected Choice - Audio Data
During a typical data science project at work or school, approximately what proportion of your time is devoted to the following? (Answers must add up to 100%) - Gathering data
What metrics do you or your organization use to determine whether or not your models were successful? (Select all that apply) - Selected Choice - Revenue and/or business goals
What tools and methods do you use to make your work easy to reproduce? (Select all that apply) - Selected Choice - Share code on Github or a similar code-sharing repository
</pre></div>
</div>
</div>
</div>
<div class="section" id="one-hot-encoding-questions">
<h3><span class="section-number">38.4.1. </span>One hot encoding questions<a class="headerlink" href="#one-hot-encoding-questions" title="Permalink to this headline">¶</a></h3>
<p>What I will do here is create a makeshift database, not in SQL as usually just to keep it simple, but in a dictionary of dataframes. For each question I will take the answers and create a one hot encoded table from them, for each user we will know which checkmarks they marked and which they didn’t. This view makes it easier to apply statistics and machine learning to the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">answer_dfs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Q11&#39;</span><span class="p">,</span> <span class="s1">&#39;Q13&#39;</span><span class="p">,</span> <span class="s1">&#39;Q16&#39;</span><span class="p">,</span> <span class="s1">&#39;Q19&#39;</span><span class="p">,</span> <span class="s1">&#39;Q21&#39;</span><span class="p">,</span> <span class="s1">&#39;Q31&#39;</span><span class="p">,</span> <span class="s1">&#39;Q34&#39;</span><span class="p">,</span> <span class="s1">&#39;Q42&#39;</span><span class="p">,</span> <span class="s1">&#39;Q49&#39;</span><span class="p">]:</span>
  
    <span class="n">choices</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">question</span><span class="p">)][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">choices</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">question</span><span class="p">)][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; - &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">values</span>
    <span class="n">answer_dfs</span><span class="p">[</span><span class="n">question</span><span class="p">]</span> <span class="o">=</span> <span class="n">choices</span>
</pre></div>
</div>
</div>
</div>
<p>an example of a question, Q13: Which IDE’s have you used in the last 5 years?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q13&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jupyter/IPython</th>
      <th>RStudio</th>
      <th>PyCharm</th>
      <th>Visual Studio Code</th>
      <th>nteract</th>
      <th>Atom</th>
      <th>MATLAB</th>
      <th>Visual Studio</th>
      <th>Notepad++</th>
      <th>Sublime Text</th>
      <th>Vim</th>
      <th>IntelliJ</th>
      <th>Spyder</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>23844</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23845</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23854</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23855</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23857</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>15429 rows × 15 columns</p>
</div></div></div>
</div>
<p>for some reason they did Q17 differently, so we have to one hot encode it in another method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q17&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">train_df</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Q17&#39;</span><span class="p">)][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q17&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q17_Bash</th>
      <th>Q17_C#/.NET</th>
      <th>Q17_C/C++</th>
      <th>Q17_Go</th>
      <th>Q17_Java</th>
      <th>Q17_Javascript/Typescript</th>
      <th>Q17_Julia</th>
      <th>Q17_MATLAB</th>
      <th>Q17_Other</th>
      <th>Q17_PHP</th>
      <th>Q17_Python</th>
      <th>Q17_R</th>
      <th>Q17_Ruby</th>
      <th>Q17_SAS/STATA</th>
      <th>Q17_SQL</th>
      <th>Q17_Scala</th>
      <th>Q17_Visual Basic/VBA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>23844</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23845</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23854</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23855</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>23857</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>15429 rows × 17 columns</p>
</div></div></div>
</div>
<p>That was for our choices data, where the questions are based on choices, for generic info we do it a bit different, we create a general dataframe containing all info.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">info_df</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[[</span><span class="s1">&#39;Q1&#39;</span><span class="p">,</span> <span class="s1">&#39;Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q5&#39;</span><span class="p">,</span> <span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q7&#39;</span><span class="p">,</span> <span class="s1">&#39;Q8&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">,</span> <span class="s1">&#39;Q10&#39;</span><span class="p">]]</span>
<span class="c1">#info_df.columns = questions[[&#39;Q1&#39;, &#39;Q2&#39;, &#39;Q3&#39;, &#39;Q4&#39;, &#39;Q5&#39;, &#39;Q6&#39;, &#39;Q7&#39;, &#39;Q8&#39;, &#39;Q9&#39;, &#39;Q10&#39;]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">info_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q1</th>
      <th>Q2</th>
      <th>Q3</th>
      <th>Q4</th>
      <th>Q5</th>
      <th>Q6</th>
      <th>Q7</th>
      <th>Q8</th>
      <th>Q9</th>
      <th>Q10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>Male</td>
      <td>30-34</td>
      <td>Indonesia</td>
      <td>Bachelor’s degree</td>
      <td>Engineering (non-computer focused)</td>
      <td>Other</td>
      <td>Manufacturing/Fabrication</td>
      <td>5-10</td>
      <td>10-20,000</td>
      <td>No (we do not use ML methods)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Female</td>
      <td>30-34</td>
      <td>United States of America</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Data Scientist</td>
      <td>I am a student</td>
      <td>0-1</td>
      <td>0-10,000</td>
      <td>I do not know</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Male</td>
      <td>22-24</td>
      <td>India</td>
      <td>Master’s degree</td>
      <td>Mathematics or statistics</td>
      <td>Data Analyst</td>
      <td>I am a student</td>
      <td>0-1</td>
      <td>0-10,000</td>
      <td>I do not know</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Male</td>
      <td>35-39</td>
      <td>Chile</td>
      <td>Doctoral degree</td>
      <td>Information technology, networking, or system ...</td>
      <td>Other</td>
      <td>Academics/Education</td>
      <td>10-15</td>
      <td>10-20,000</td>
      <td>No (we do not use ML methods)</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Male</td>
      <td>18-21</td>
      <td>India</td>
      <td>Master’s degree</td>
      <td>Information technology, networking, or system ...</td>
      <td>Other</td>
      <td>Other</td>
      <td>0-1</td>
      <td>0-10,000</td>
      <td>We recently started using ML methods (i.e., mo...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>23844</th>
      <td>Male</td>
      <td>30-34</td>
      <td>Netherlands</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Software Engineer</td>
      <td>Computers/Technology</td>
      <td>10-15</td>
      <td>90-100,000</td>
      <td>We are exploring ML methods (and may one day p...</td>
    </tr>
    <tr>
      <th>23845</th>
      <td>Male</td>
      <td>22-24</td>
      <td>Romania</td>
      <td>Master’s degree</td>
      <td>Mathematics or statistics</td>
      <td>Student</td>
      <td>I am a student</td>
      <td>0-1</td>
      <td>0-10,000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>23854</th>
      <td>Male</td>
      <td>30-34</td>
      <td>Turkey</td>
      <td>Doctoral degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Research Assistant</td>
      <td>Academics/Education</td>
      <td>5-10</td>
      <td>10-20,000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>23855</th>
      <td>Male</td>
      <td>45-49</td>
      <td>France</td>
      <td>Doctoral degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Chief Officer</td>
      <td>Computers/Technology</td>
      <td>5-10</td>
      <td>250-300,000</td>
      <td>We recently started using ML methods (i.e., mo...</td>
    </tr>
    <tr>
      <th>23857</th>
      <td>Male</td>
      <td>22-24</td>
      <td>Turkey</td>
      <td>Master’s degree</td>
      <td>Computer science (software engineering, etc.)</td>
      <td>Software Engineer</td>
      <td>Computers/Technology</td>
      <td>0-1</td>
      <td>10-20,000</td>
      <td>We recently started using ML methods (i.e., mo...</td>
    </tr>
  </tbody>
</table>
<p>15429 rows × 10 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="mean-choice-matrix">
<h3><span class="section-number">38.4.2. </span>Mean choice Matrix<a class="headerlink" href="#mean-choice-matrix" title="Permalink to this headline">¶</a></h3>
<p>As we have so much information to process, I opted to keep it dynamic, the following function helps in that, it calculates for a question from our choice database the mean occurence for each group in a feature of the info dataframe.
Let’s say we want to know the average amount of persons that know a specific language for each role/job title. We would have to match Q16 (known languages) with Q6 (job description). This is performed below, notice how it both performs a merge (join) and a groupby to get the result.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mean_choice_matrix</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="n">question</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">info_df</span><span class="p">[[</span><span class="n">info</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="n">question</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_choice_matrix</span><span class="p">(</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q16&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
    <tr>
      <th>Q6</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Business Analyst</th>
      <td>0.605085</td>
      <td>0.401695</td>
      <td>0.547458</td>
      <td>0.049153</td>
      <td>0.079661</td>
      <td>0.084746</td>
      <td>0.189831</td>
      <td>0.069492</td>
      <td>0.030508</td>
      <td>0.016949</td>
      <td>0.003390</td>
      <td>0.005085</td>
      <td>0.042373</td>
      <td>0.035593</td>
      <td>0.006780</td>
      <td>0.091525</td>
      <td>0.054237</td>
      <td>0.027119</td>
    </tr>
    <tr>
      <th>Chief Officer</th>
      <td>0.717131</td>
      <td>0.274900</td>
      <td>0.430279</td>
      <td>0.191235</td>
      <td>0.183267</td>
      <td>0.306773</td>
      <td>0.083665</td>
      <td>0.139442</td>
      <td>0.091633</td>
      <td>0.067729</td>
      <td>0.015936</td>
      <td>0.059761</td>
      <td>0.103586</td>
      <td>0.103586</td>
      <td>0.043825</td>
      <td>0.035857</td>
      <td>0.023904</td>
      <td>0.055777</td>
    </tr>
    <tr>
      <th>Consultant</th>
      <td>0.692845</td>
      <td>0.413613</td>
      <td>0.472949</td>
      <td>0.116928</td>
      <td>0.136126</td>
      <td>0.165794</td>
      <td>0.111693</td>
      <td>0.078534</td>
      <td>0.062827</td>
      <td>0.024433</td>
      <td>0.010471</td>
      <td>0.012216</td>
      <td>0.082024</td>
      <td>0.052356</td>
      <td>0.012216</td>
      <td>0.073298</td>
      <td>0.031414</td>
      <td>0.041885</td>
    </tr>
    <tr>
      <th>DBA/Database Engineer</th>
      <td>0.666667</td>
      <td>0.307692</td>
      <td>0.717949</td>
      <td>0.188034</td>
      <td>0.213675</td>
      <td>0.128205</td>
      <td>0.068376</td>
      <td>0.102564</td>
      <td>0.051282</td>
      <td>0.025641</td>
      <td>0.000000</td>
      <td>0.017094</td>
      <td>0.179487</td>
      <td>0.042735</td>
      <td>0.008547</td>
      <td>0.025641</td>
      <td>0.008547</td>
      <td>0.017094</td>
    </tr>
    <tr>
      <th>Data Analyst</th>
      <td>0.647059</td>
      <td>0.484594</td>
      <td>0.586134</td>
      <td>0.079132</td>
      <td>0.093137</td>
      <td>0.098039</td>
      <td>0.110644</td>
      <td>0.079132</td>
      <td>0.067227</td>
      <td>0.028711</td>
      <td>0.005602</td>
      <td>0.006303</td>
      <td>0.039916</td>
      <td>0.032213</td>
      <td>0.014006</td>
      <td>0.105042</td>
      <td>0.011905</td>
      <td>0.018908</td>
    </tr>
    <tr>
      <th>Data Engineer</th>
      <td>0.801418</td>
      <td>0.248227</td>
      <td>0.510638</td>
      <td>0.223404</td>
      <td>0.246454</td>
      <td>0.184397</td>
      <td>0.053191</td>
      <td>0.132979</td>
      <td>0.081560</td>
      <td>0.161348</td>
      <td>0.008865</td>
      <td>0.033688</td>
      <td>0.086879</td>
      <td>0.054965</td>
      <td>0.015957</td>
      <td>0.033688</td>
      <td>0.003546</td>
      <td>0.028369</td>
    </tr>
    <tr>
      <th>Data Journalist</th>
      <td>0.600000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.200000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Data Scientist</th>
      <td>0.860265</td>
      <td>0.429671</td>
      <td>0.511542</td>
      <td>0.193906</td>
      <td>0.100031</td>
      <td>0.098492</td>
      <td>0.043398</td>
      <td>0.105571</td>
      <td>0.076023</td>
      <td>0.068637</td>
      <td>0.014158</td>
      <td>0.018159</td>
      <td>0.040320</td>
      <td>0.024007</td>
      <td>0.008618</td>
      <td>0.058172</td>
      <td>0.001847</td>
      <td>0.023084</td>
    </tr>
    <tr>
      <th>Developer Advocate</th>
      <td>0.611765</td>
      <td>0.211765</td>
      <td>0.482353</td>
      <td>0.094118</td>
      <td>0.341176</td>
      <td>0.400000</td>
      <td>0.094118</td>
      <td>0.141176</td>
      <td>0.035294</td>
      <td>0.035294</td>
      <td>0.000000</td>
      <td>0.023529</td>
      <td>0.211765</td>
      <td>0.141176</td>
      <td>0.023529</td>
      <td>0.011765</td>
      <td>0.000000</td>
      <td>0.058824</td>
    </tr>
    <tr>
      <th>Manager</th>
      <td>0.681416</td>
      <td>0.384956</td>
      <td>0.455752</td>
      <td>0.117257</td>
      <td>0.126106</td>
      <td>0.137168</td>
      <td>0.139381</td>
      <td>0.097345</td>
      <td>0.050885</td>
      <td>0.024336</td>
      <td>0.011062</td>
      <td>0.011062</td>
      <td>0.075221</td>
      <td>0.044248</td>
      <td>0.022124</td>
      <td>0.077434</td>
      <td>0.044248</td>
      <td>0.028761</td>
    </tr>
    <tr>
      <th>Marketing Analyst</th>
      <td>0.505747</td>
      <td>0.471264</td>
      <td>0.505747</td>
      <td>0.022989</td>
      <td>0.022989</td>
      <td>0.045977</td>
      <td>0.068966</td>
      <td>0.034483</td>
      <td>0.011494</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.011494</td>
      <td>0.034483</td>
      <td>0.000000</td>
      <td>0.057471</td>
      <td>0.080460</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Not employed</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.682041</td>
      <td>0.287537</td>
      <td>0.314033</td>
      <td>0.116781</td>
      <td>0.145240</td>
      <td>0.131501</td>
      <td>0.087341</td>
      <td>0.144259</td>
      <td>0.100098</td>
      <td>0.020608</td>
      <td>0.005888</td>
      <td>0.012758</td>
      <td>0.073602</td>
      <td>0.056919</td>
      <td>0.012758</td>
      <td>0.051030</td>
      <td>0.056919</td>
      <td>0.037291</td>
    </tr>
    <tr>
      <th>Principal Investigator</th>
      <td>0.759036</td>
      <td>0.433735</td>
      <td>0.277108</td>
      <td>0.144578</td>
      <td>0.144578</td>
      <td>0.216867</td>
      <td>0.096386</td>
      <td>0.265060</td>
      <td>0.240964</td>
      <td>0.024096</td>
      <td>0.060241</td>
      <td>0.024096</td>
      <td>0.096386</td>
      <td>0.096386</td>
      <td>0.012048</td>
      <td>0.060241</td>
      <td>0.012048</td>
      <td>0.072289</td>
    </tr>
    <tr>
      <th>Product/Project Manager</th>
      <td>0.720365</td>
      <td>0.276596</td>
      <td>0.455927</td>
      <td>0.100304</td>
      <td>0.161094</td>
      <td>0.206687</td>
      <td>0.088146</td>
      <td>0.133739</td>
      <td>0.063830</td>
      <td>0.039514</td>
      <td>0.003040</td>
      <td>0.012158</td>
      <td>0.106383</td>
      <td>0.091185</td>
      <td>0.027356</td>
      <td>0.024316</td>
      <td>0.045593</td>
      <td>0.027356</td>
    </tr>
    <tr>
      <th>Research Assistant</th>
      <td>0.776286</td>
      <td>0.310962</td>
      <td>0.192394</td>
      <td>0.154362</td>
      <td>0.161074</td>
      <td>0.102908</td>
      <td>0.038031</td>
      <td>0.255034</td>
      <td>0.308725</td>
      <td>0.013423</td>
      <td>0.020134</td>
      <td>0.000000</td>
      <td>0.053691</td>
      <td>0.071588</td>
      <td>0.006711</td>
      <td>0.046980</td>
      <td>0.011186</td>
      <td>0.031320</td>
    </tr>
    <tr>
      <th>Research Scientist</th>
      <td>0.780541</td>
      <td>0.340541</td>
      <td>0.196757</td>
      <td>0.188108</td>
      <td>0.142703</td>
      <td>0.088649</td>
      <td>0.038919</td>
      <td>0.301622</td>
      <td>0.265946</td>
      <td>0.024865</td>
      <td>0.019459</td>
      <td>0.003243</td>
      <td>0.061622</td>
      <td>0.043243</td>
      <td>0.011892</td>
      <td>0.043243</td>
      <td>0.014054</td>
      <td>0.043243</td>
    </tr>
    <tr>
      <th>Salesperson</th>
      <td>0.612500</td>
      <td>0.275000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.125000</td>
      <td>0.137500</td>
      <td>0.075000</td>
      <td>0.137500</td>
      <td>0.087500</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.025000</td>
      <td>0.062500</td>
      <td>0.012500</td>
      <td>0.037500</td>
      <td>0.100000</td>
      <td>0.037500</td>
    </tr>
    <tr>
      <th>Software Engineer</th>
      <td>0.737179</td>
      <td>0.123504</td>
      <td>0.405128</td>
      <td>0.167949</td>
      <td>0.334188</td>
      <td>0.354274</td>
      <td>0.036325</td>
      <td>0.257692</td>
      <td>0.073077</td>
      <td>0.050855</td>
      <td>0.008547</td>
      <td>0.052137</td>
      <td>0.185470</td>
      <td>0.110684</td>
      <td>0.038034</td>
      <td>0.003419</td>
      <td>0.001709</td>
      <td>0.051282</td>
    </tr>
    <tr>
      <th>Statistician</th>
      <td>0.500000</td>
      <td>0.822222</td>
      <td>0.327778</td>
      <td>0.077778</td>
      <td>0.033333</td>
      <td>0.050000</td>
      <td>0.072222</td>
      <td>0.094444</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.016667</td>
      <td>0.000000</td>
      <td>0.038889</td>
      <td>0.005556</td>
      <td>0.016667</td>
      <td>0.355556</td>
      <td>0.016667</td>
      <td>0.022222</td>
    </tr>
    <tr>
      <th>Student</th>
      <td>0.697710</td>
      <td>0.231679</td>
      <td>0.214885</td>
      <td>0.083969</td>
      <td>0.225573</td>
      <td>0.108397</td>
      <td>0.027481</td>
      <td>0.330153</td>
      <td>0.198473</td>
      <td>0.015649</td>
      <td>0.011832</td>
      <td>0.008397</td>
      <td>0.054198</td>
      <td>0.051527</td>
      <td>0.010305</td>
      <td>0.035878</td>
      <td>0.006489</td>
      <td>0.015267</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We can see that for each combination of job title and programming language an average between 0 and 1 persons have checked this option, e.g. the combination of data scientist and python equals 0.86, meaning that 86% of data scientists know python.</p>
<p>Similarly we can also calculate correlation between choices from our choice database, here we did it again for Question 16.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q16&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Python</th>
      <td>1.000000</td>
      <td>0.077293</td>
      <td>0.191304</td>
      <td>0.188435</td>
      <td>0.141813</td>
      <td>0.125164</td>
      <td>0.007550</td>
      <td>0.183621</td>
      <td>0.131117</td>
      <td>0.095374</td>
      <td>0.039096</td>
      <td>0.053180</td>
      <td>0.046182</td>
      <td>0.048012</td>
      <td>0.031308</td>
      <td>-0.009036</td>
      <td>-0.206520</td>
      <td>0.009641</td>
    </tr>
    <tr>
      <th>R</th>
      <td>0.077293</td>
      <td>1.000000</td>
      <td>0.223527</td>
      <td>0.032511</td>
      <td>-0.034205</td>
      <td>-0.039002</td>
      <td>0.098949</td>
      <td>-0.049046</td>
      <td>0.030446</td>
      <td>0.033991</td>
      <td>0.063129</td>
      <td>-0.016114</td>
      <td>-0.039415</td>
      <td>-0.006318</td>
      <td>0.014921</td>
      <td>0.198183</td>
      <td>-0.085536</td>
      <td>-0.001240</td>
    </tr>
    <tr>
      <th>SQL</th>
      <td>0.191304</td>
      <td>0.223527</td>
      <td>1.000000</td>
      <td>0.161086</td>
      <td>0.135890</td>
      <td>0.192323</td>
      <td>0.159062</td>
      <td>-0.034188</td>
      <td>-0.047761</td>
      <td>0.117620</td>
      <td>0.013813</td>
      <td>0.048231</td>
      <td>0.134615</td>
      <td>0.157483</td>
      <td>0.056242</td>
      <td>0.120958</td>
      <td>-0.101752</td>
      <td>0.001674</td>
    </tr>
    <tr>
      <th>Bash</th>
      <td>0.188435</td>
      <td>0.032511</td>
      <td>0.161086</td>
      <td>1.000000</td>
      <td>0.078031</td>
      <td>0.146723</td>
      <td>-0.026907</td>
      <td>0.082853</td>
      <td>0.010577</td>
      <td>0.116862</td>
      <td>0.058785</td>
      <td>0.104544</td>
      <td>0.000396</td>
      <td>0.054351</td>
      <td>0.103550</td>
      <td>-0.032248</td>
      <td>-0.049637</td>
      <td>0.056457</td>
    </tr>
    <tr>
      <th>Java</th>
      <td>0.141813</td>
      <td>-0.034205</td>
      <td>0.135890</td>
      <td>0.078031</td>
      <td>1.000000</td>
      <td>0.254773</td>
      <td>0.024432</td>
      <td>0.227691</td>
      <td>0.064536</td>
      <td>0.165490</td>
      <td>0.005821</td>
      <td>0.073318</td>
      <td>0.137888</td>
      <td>0.177413</td>
      <td>0.067257</td>
      <td>-0.040728</td>
      <td>-0.056888</td>
      <td>0.026739</td>
    </tr>
    <tr>
      <th>Javascript/Typescript</th>
      <td>0.125164</td>
      <td>-0.039002</td>
      <td>0.192323</td>
      <td>0.146723</td>
      <td>0.254773</td>
      <td>1.000000</td>
      <td>0.049290</td>
      <td>0.095921</td>
      <td>-0.004829</td>
      <td>0.060073</td>
      <td>0.025601</td>
      <td>0.118897</td>
      <td>0.222775</td>
      <td>0.307413</td>
      <td>0.127312</td>
      <td>-0.048567</td>
      <td>-0.052961</td>
      <td>0.034497</td>
    </tr>
    <tr>
      <th>Visual Basic/VBA</th>
      <td>0.007550</td>
      <td>0.098949</td>
      <td>0.159062</td>
      <td>-0.026907</td>
      <td>0.024432</td>
      <td>0.049290</td>
      <td>1.000000</td>
      <td>0.020796</td>
      <td>0.019424</td>
      <td>0.005185</td>
      <td>0.037063</td>
      <td>0.002042</td>
      <td>0.122287</td>
      <td>0.077126</td>
      <td>0.011487</td>
      <td>0.093618</td>
      <td>-0.032002</td>
      <td>-0.004965</td>
    </tr>
    <tr>
      <th>C/C++</th>
      <td>0.183621</td>
      <td>-0.049046</td>
      <td>-0.034188</td>
      <td>0.082853</td>
      <td>0.227691</td>
      <td>0.095921</td>
      <td>0.020796</td>
      <td>1.000000</td>
      <td>0.260311</td>
      <td>0.004697</td>
      <td>0.049980</td>
      <td>0.048903</td>
      <td>0.134850</td>
      <td>0.111623</td>
      <td>0.041745</td>
      <td>-0.052866</td>
      <td>-0.058636</td>
      <td>0.019235</td>
    </tr>
    <tr>
      <th>MATLAB</th>
      <td>0.131117</td>
      <td>0.030446</td>
      <td>-0.047761</td>
      <td>0.010577</td>
      <td>0.064536</td>
      <td>-0.004829</td>
      <td>0.019424</td>
      <td>0.260311</td>
      <td>1.000000</td>
      <td>0.003116</td>
      <td>0.056403</td>
      <td>0.003529</td>
      <td>0.029772</td>
      <td>0.046232</td>
      <td>0.014027</td>
      <td>0.015261</td>
      <td>-0.044376</td>
      <td>-0.000043</td>
    </tr>
    <tr>
      <th>Scala</th>
      <td>0.095374</td>
      <td>0.033991</td>
      <td>0.117620</td>
      <td>0.116862</td>
      <td>0.165490</td>
      <td>0.060073</td>
      <td>0.005185</td>
      <td>0.004697</td>
      <td>0.003116</td>
      <td>1.000000</td>
      <td>0.049863</td>
      <td>0.077110</td>
      <td>0.006505</td>
      <td>0.021619</td>
      <td>0.066129</td>
      <td>0.012633</td>
      <td>-0.025780</td>
      <td>0.014499</td>
    </tr>
    <tr>
      <th>Julia</th>
      <td>0.039096</td>
      <td>0.063129</td>
      <td>0.013813</td>
      <td>0.058785</td>
      <td>0.005821</td>
      <td>0.025601</td>
      <td>0.037063</td>
      <td>0.049980</td>
      <td>0.056403</td>
      <td>0.049863</td>
      <td>1.000000</td>
      <td>0.091513</td>
      <td>0.013769</td>
      <td>0.010427</td>
      <td>0.065590</td>
      <td>0.045429</td>
      <td>-0.013031</td>
      <td>0.006897</td>
    </tr>
    <tr>
      <th>Go</th>
      <td>0.053180</td>
      <td>-0.016114</td>
      <td>0.048231</td>
      <td>0.104544</td>
      <td>0.073318</td>
      <td>0.118897</td>
      <td>0.002042</td>
      <td>0.048903</td>
      <td>0.003529</td>
      <td>0.077110</td>
      <td>0.091513</td>
      <td>1.000000</td>
      <td>0.042659</td>
      <td>0.043077</td>
      <td>0.092767</td>
      <td>-0.008502</td>
      <td>-0.017048</td>
      <td>0.012141</td>
    </tr>
    <tr>
      <th>C#/.NET</th>
      <td>0.046182</td>
      <td>-0.039415</td>
      <td>0.134615</td>
      <td>0.000396</td>
      <td>0.137888</td>
      <td>0.222775</td>
      <td>0.122287</td>
      <td>0.134850</td>
      <td>0.029772</td>
      <td>0.006505</td>
      <td>0.013769</td>
      <td>0.042659</td>
      <td>1.000000</td>
      <td>0.108940</td>
      <td>0.039859</td>
      <td>-0.026410</td>
      <td>-0.035878</td>
      <td>0.006953</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>0.048012</td>
      <td>-0.006318</td>
      <td>0.157483</td>
      <td>0.054351</td>
      <td>0.177413</td>
      <td>0.307413</td>
      <td>0.077126</td>
      <td>0.111623</td>
      <td>0.046232</td>
      <td>0.021619</td>
      <td>0.010427</td>
      <td>0.043077</td>
      <td>0.108940</td>
      <td>1.000000</td>
      <td>0.080351</td>
      <td>-0.011212</td>
      <td>-0.029713</td>
      <td>0.031095</td>
    </tr>
    <tr>
      <th>Ruby</th>
      <td>0.031308</td>
      <td>0.014921</td>
      <td>0.056242</td>
      <td>0.103550</td>
      <td>0.067257</td>
      <td>0.127312</td>
      <td>0.011487</td>
      <td>0.041745</td>
      <td>0.014027</td>
      <td>0.066129</td>
      <td>0.065590</td>
      <td>0.092767</td>
      <td>0.039859</td>
      <td>0.080351</td>
      <td>1.000000</td>
      <td>0.007042</td>
      <td>-0.015859</td>
      <td>0.034500</td>
    </tr>
    <tr>
      <th>SAS/STATA</th>
      <td>-0.009036</td>
      <td>0.198183</td>
      <td>0.120958</td>
      <td>-0.032248</td>
      <td>-0.040728</td>
      <td>-0.048567</td>
      <td>0.093618</td>
      <td>-0.052866</td>
      <td>0.015261</td>
      <td>0.012633</td>
      <td>0.045429</td>
      <td>-0.008502</td>
      <td>-0.026410</td>
      <td>-0.011212</td>
      <td>0.007042</td>
      <td>1.000000</td>
      <td>-0.029014</td>
      <td>-0.005546</td>
    </tr>
    <tr>
      <th>None</th>
      <td>-0.206520</td>
      <td>-0.085536</td>
      <td>-0.101752</td>
      <td>-0.049637</td>
      <td>-0.056888</td>
      <td>-0.052961</td>
      <td>-0.032002</td>
      <td>-0.058636</td>
      <td>-0.044376</td>
      <td>-0.025780</td>
      <td>-0.013031</td>
      <td>-0.017048</td>
      <td>-0.035878</td>
      <td>-0.029713</td>
      <td>-0.015859</td>
      <td>-0.029014</td>
      <td>1.000000</td>
      <td>-0.021852</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.009641</td>
      <td>-0.001240</td>
      <td>0.001674</td>
      <td>0.056457</td>
      <td>0.026739</td>
      <td>0.034497</td>
      <td>-0.004965</td>
      <td>0.019235</td>
      <td>-0.000043</td>
      <td>0.014499</td>
      <td>0.006897</td>
      <td>0.012141</td>
      <td>0.006953</td>
      <td>0.031095</td>
      <td>0.034500</td>
      <td>-0.005546</td>
      <td>-0.021852</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Here we see thich answers are checked usually together or not, as an example we see that python and SQL have a correlation of 19% whilst Python and R have a correlation of 7.7% which is logical as Python and R have a similar purpose and SQL is complementary. Obviously None is always negatively correlated, a good example of obsolete information!</p>
</div>
<div class="section" id="count-matrix">
<h3><span class="section-number">38.4.3. </span>Count matrix<a class="headerlink" href="#count-matrix" title="Permalink to this headline">¶</a></h3>
<p>to correlate information between 2 questions of the info dataframe, we create a function that counts the occurence of each combination. An example is given for question 2 (age) and Question 7 (industry). With this information we can find out if there is a correlation between information of our users in the survey, not specifically their choices on the multiple choice answers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_matrix</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">info_df</span><span class="p">[[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">mean_matrix</span><span class="p">(</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">info_df</span><span class="p">[[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;Q7&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q7</th>
      <th>Academics/Education</th>
      <th>Accounting/Finance</th>
      <th>Broadcasting/Communications</th>
      <th>Computers/Technology</th>
      <th>Energy/Mining</th>
      <th>Government/Public Service</th>
      <th>Hospitality/Entertainment/Sports</th>
      <th>I am a student</th>
      <th>Insurance/Risk Assessment</th>
      <th>Manufacturing/Fabrication</th>
      <th>Marketing/CRM</th>
      <th>Medical/Pharmaceutical</th>
      <th>Military/Security/Defense</th>
      <th>Non-profit/Service</th>
      <th>Online Business/Internet-based Sales</th>
      <th>Online Service/Internet-based Services</th>
      <th>Other</th>
      <th>Retail/Sales</th>
      <th>Shipping/Transportation</th>
    </tr>
    <tr>
      <th>Q2</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18-21</th>
      <td>117</td>
      <td>27</td>
      <td>4</td>
      <td>194</td>
      <td>8</td>
      <td>9</td>
      <td>3</td>
      <td>869</td>
      <td>12</td>
      <td>7</td>
      <td>11</td>
      <td>16</td>
      <td>9</td>
      <td>2</td>
      <td>12</td>
      <td>20</td>
      <td>27</td>
      <td>9</td>
      <td>7</td>
    </tr>
    <tr>
      <th>22-24</th>
      <td>322</td>
      <td>198</td>
      <td>38</td>
      <td>786</td>
      <td>38</td>
      <td>37</td>
      <td>22</td>
      <td>811</td>
      <td>56</td>
      <td>41</td>
      <td>71</td>
      <td>76</td>
      <td>33</td>
      <td>16</td>
      <td>43</td>
      <td>123</td>
      <td>98</td>
      <td>59</td>
      <td>26</td>
    </tr>
    <tr>
      <th>25-29</th>
      <td>539</td>
      <td>361</td>
      <td>86</td>
      <td>1250</td>
      <td>97</td>
      <td>118</td>
      <td>39</td>
      <td>424</td>
      <td>131</td>
      <td>111</td>
      <td>124</td>
      <td>179</td>
      <td>31</td>
      <td>50</td>
      <td>107</td>
      <td>227</td>
      <td>227</td>
      <td>110</td>
      <td>67</td>
    </tr>
    <tr>
      <th>30-34</th>
      <td>364</td>
      <td>252</td>
      <td>66</td>
      <td>795</td>
      <td>81</td>
      <td>125</td>
      <td>34</td>
      <td>89</td>
      <td>109</td>
      <td>96</td>
      <td>83</td>
      <td>127</td>
      <td>25</td>
      <td>40</td>
      <td>62</td>
      <td>162</td>
      <td>169</td>
      <td>81</td>
      <td>59</td>
    </tr>
    <tr>
      <th>35-39</th>
      <td>243</td>
      <td>141</td>
      <td>56</td>
      <td>454</td>
      <td>44</td>
      <td>74</td>
      <td>25</td>
      <td>32</td>
      <td>73</td>
      <td>62</td>
      <td>50</td>
      <td>76</td>
      <td>22</td>
      <td>17</td>
      <td>23</td>
      <td>86</td>
      <td>79</td>
      <td>44</td>
      <td>36</td>
    </tr>
    <tr>
      <th>40-44</th>
      <td>146</td>
      <td>82</td>
      <td>33</td>
      <td>279</td>
      <td>40</td>
      <td>48</td>
      <td>14</td>
      <td>12</td>
      <td>30</td>
      <td>40</td>
      <td>22</td>
      <td>37</td>
      <td>14</td>
      <td>13</td>
      <td>14</td>
      <td>51</td>
      <td>69</td>
      <td>25</td>
      <td>20</td>
    </tr>
    <tr>
      <th>45-49</th>
      <td>91</td>
      <td>47</td>
      <td>24</td>
      <td>195</td>
      <td>13</td>
      <td>40</td>
      <td>5</td>
      <td>5</td>
      <td>15</td>
      <td>32</td>
      <td>12</td>
      <td>27</td>
      <td>4</td>
      <td>9</td>
      <td>5</td>
      <td>24</td>
      <td>34</td>
      <td>14</td>
      <td>6</td>
    </tr>
    <tr>
      <th>50-54</th>
      <td>71</td>
      <td>38</td>
      <td>5</td>
      <td>123</td>
      <td>8</td>
      <td>34</td>
      <td>3</td>
      <td>2</td>
      <td>16</td>
      <td>21</td>
      <td>4</td>
      <td>21</td>
      <td>6</td>
      <td>5</td>
      <td>4</td>
      <td>10</td>
      <td>18</td>
      <td>5</td>
      <td>9</td>
    </tr>
    <tr>
      <th>55-59</th>
      <td>35</td>
      <td>18</td>
      <td>4</td>
      <td>64</td>
      <td>7</td>
      <td>17</td>
      <td>5</td>
      <td>3</td>
      <td>7</td>
      <td>12</td>
      <td>6</td>
      <td>17</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>10</td>
      <td>6</td>
      <td>3</td>
    </tr>
    <tr>
      <th>60-69</th>
      <td>40</td>
      <td>14</td>
      <td>3</td>
      <td>32</td>
      <td>8</td>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>12</td>
      <td>1</td>
      <td>14</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>8</td>
      <td>13</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>70-79</th>
      <td>11</td>
      <td>2</td>
      <td>0</td>
      <td>5</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80+</th>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="exploration">
<h2><span class="section-number">38.5. </span>Exploration<a class="headerlink" href="#exploration" title="Permalink to this headline">¶</a></h2>
<p>To start of our exploration I would like to know what influences our salary, to do so I created a count_matrix function that counts the occurences of each option with information questions, to illustrate an example with Q4: which degree?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q9</th>
      <th>0-10,000</th>
      <th>10-20,000</th>
      <th>20-30,000</th>
      <th>30-40,000</th>
      <th>40-50,000</th>
      <th>50-60,000</th>
      <th>60-70,000</th>
      <th>70-80,000</th>
      <th>80-90,000</th>
      <th>90-100,000</th>
      <th>100-125,000</th>
      <th>125-150,000</th>
      <th>150-200,000</th>
      <th>200-250,000</th>
      <th>250-300,000</th>
      <th>300-400,000</th>
      <th>400-500,000</th>
      <th>500,000+</th>
    </tr>
    <tr>
      <th>Q4</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Bachelor’s degree</th>
      <td>1790</td>
      <td>567</td>
      <td>341</td>
      <td>259</td>
      <td>223</td>
      <td>183</td>
      <td>176</td>
      <td>159</td>
      <td>118</td>
      <td>124</td>
      <td>166</td>
      <td>115</td>
      <td>89</td>
      <td>23</td>
      <td>15</td>
      <td>12</td>
      <td>4</td>
      <td>19</td>
    </tr>
    <tr>
      <th>Doctoral degree</th>
      <td>343</td>
      <td>307</td>
      <td>255</td>
      <td>223</td>
      <td>183</td>
      <td>179</td>
      <td>157</td>
      <td>120</td>
      <td>102</td>
      <td>110</td>
      <td>185</td>
      <td>124</td>
      <td>120</td>
      <td>55</td>
      <td>25</td>
      <td>18</td>
      <td>7</td>
      <td>9</td>
    </tr>
    <tr>
      <th>I prefer not to answer</th>
      <td>38</td>
      <td>32</td>
      <td>9</td>
      <td>8</td>
      <td>6</td>
      <td>9</td>
      <td>7</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>5</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Master’s degree</th>
      <td>1812</td>
      <td>909</td>
      <td>672</td>
      <td>546</td>
      <td>491</td>
      <td>491</td>
      <td>353</td>
      <td>353</td>
      <td>260</td>
      <td>304</td>
      <td>449</td>
      <td>265</td>
      <td>223</td>
      <td>77</td>
      <td>32</td>
      <td>20</td>
      <td>9</td>
      <td>20</td>
    </tr>
    <tr>
      <th>No formal education past high school</th>
      <td>32</td>
      <td>20</td>
      <td>8</td>
      <td>16</td>
      <td>10</td>
      <td>15</td>
      <td>1</td>
      <td>7</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Professional degree</th>
      <td>112</td>
      <td>61</td>
      <td>56</td>
      <td>34</td>
      <td>21</td>
      <td>18</td>
      <td>15</td>
      <td>11</td>
      <td>6</td>
      <td>11</td>
      <td>11</td>
      <td>7</td>
      <td>8</td>
      <td>9</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Some college/university study without earning a bachelor’s degree</th>
      <td>271</td>
      <td>41</td>
      <td>54</td>
      <td>33</td>
      <td>31</td>
      <td>24</td>
      <td>20</td>
      <td>24</td>
      <td>15</td>
      <td>11</td>
      <td>23</td>
      <td>19</td>
      <td>12</td>
      <td>5</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>By using a contingency chi squared test we can find out which degrees are under- and overrepresented for which salary ranges.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q4&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">))</span>
<span class="n">F</span><span class="p">,</span> <span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1065.634531227411, 3.0827908345529236e-160)
</pre></div>
</div>
</div>
</div>
<p>With such significance we already know this is not a coincidence and the correlation will propably be large. comparing true and expected values we can see where the difference is.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">degree_diff</span> <span class="o">=</span> <span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q4&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span><span class="o">-</span><span class="n">exp</span>
<span class="n">degree_diff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q9</th>
      <th>0-10,000</th>
      <th>10-20,000</th>
      <th>20-30,000</th>
      <th>30-40,000</th>
      <th>40-50,000</th>
      <th>50-60,000</th>
      <th>60-70,000</th>
      <th>70-80,000</th>
      <th>80-90,000</th>
      <th>90-100,000</th>
      <th>100-125,000</th>
      <th>125-150,000</th>
      <th>150-200,000</th>
      <th>200-250,000</th>
      <th>250-300,000</th>
      <th>300-400,000</th>
      <th>400-500,000</th>
      <th>500,000+</th>
    </tr>
    <tr>
      <th>Q4</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Bachelor’s degree</th>
      <td>540.636205</td>
      <td>16.745868</td>
      <td>-55.285242</td>
      <td>-58.880420</td>
      <td>-51.132802</td>
      <td>-78.065332</td>
      <td>-31.090997</td>
      <td>-33.319074</td>
      <td>-25.742174</td>
      <td>-36.786700</td>
      <td>-73.475598</td>
      <td>-36.412211</td>
      <td>-40.822477</td>
      <td>-25.860976</td>
      <td>-6.305658</td>
      <td>-2.771923</td>
      <td>-2.533735</td>
      <td>1.103247</td>
    </tr>
    <tr>
      <th>Doctoral degree</th>
      <td>-375.890142</td>
      <td>-9.618964</td>
      <td>26.975501</td>
      <td>40.090025</td>
      <td>25.262622</td>
      <td>28.781710</td>
      <td>37.838810</td>
      <td>9.338648</td>
      <td>19.290038</td>
      <td>17.482533</td>
      <td>47.204550</td>
      <td>36.876661</td>
      <td>45.299501</td>
      <td>26.885151</td>
      <td>12.740618</td>
      <td>9.500162</td>
      <td>3.240456</td>
      <td>-1.297881</td>
    </tr>
    <tr>
      <th>I prefer not to answer</th>
      <td>0.943807</td>
      <td>15.679435</td>
      <td>-2.753840</td>
      <td>-1.428349</td>
      <td>-2.130793</td>
      <td>1.256789</td>
      <td>0.857671</td>
      <td>-2.704193</td>
      <td>-3.263400</td>
      <td>-2.768942</td>
      <td>-2.102858</td>
      <td>-3.490894</td>
      <td>-1.850541</td>
      <td>-0.449219</td>
      <td>0.368073</td>
      <td>-0.438136</td>
      <td>0.806209</td>
      <td>3.469181</td>
    </tr>
    <tr>
      <th>Master’s degree</th>
      <td>-264.857087</td>
      <td>-5.704906</td>
      <td>13.242465</td>
      <td>17.577290</td>
      <td>35.300344</td>
      <td>57.022814</td>
      <td>8.746063</td>
      <td>33.301899</td>
      <td>21.052823</td>
      <td>36.719165</td>
      <td>50.912114</td>
      <td>13.302677</td>
      <td>7.191976</td>
      <td>-4.223151</td>
      <td>-3.417072</td>
      <td>-4.555836</td>
      <td>-1.861235</td>
      <td>-9.750340</td>
    </tr>
    <tr>
      <th>No formal education past high school</th>
      <td>-6.481431</td>
      <td>3.051721</td>
      <td>-4.205911</td>
      <td>6.209022</td>
      <td>1.556485</td>
      <td>6.958973</td>
      <td>-5.378573</td>
      <td>1.076415</td>
      <td>-0.427377</td>
      <td>-0.952362</td>
      <td>-3.376045</td>
      <td>-2.663620</td>
      <td>-0.998639</td>
      <td>0.495042</td>
      <td>-0.656232</td>
      <td>-0.454987</td>
      <td>0.798756</td>
      <td>5.448765</td>
    </tr>
    <tr>
      <th>Professional degree</th>
      <td>2.541707</td>
      <td>12.791561</td>
      <td>21.280964</td>
      <td>6.150107</td>
      <td>-3.017111</td>
      <td>-4.872254</td>
      <td>-3.143496</td>
      <td>-5.849310</td>
      <td>-6.593428</td>
      <td>-3.086720</td>
      <td>-9.980751</td>
      <td>-6.265409</td>
      <td>-3.373906</td>
      <td>4.719230</td>
      <td>-1.866615</td>
      <td>0.705814</td>
      <td>-0.572429</td>
      <td>0.432044</td>
    </tr>
    <tr>
      <th>Some college/university study without earning a bachelor’s degree</th>
      <td>103.106941</td>
      <td>-32.944714</td>
      <td>0.746063</td>
      <td>-9.717675</td>
      <td>-5.838745</td>
      <td>-11.082701</td>
      <td>-7.829477</td>
      <td>-1.844384</td>
      <td>-4.316482</td>
      <td>-10.606974</td>
      <td>-9.181412</td>
      <td>-1.347203</td>
      <td>-5.445914</td>
      <td>-1.566077</td>
      <td>-0.863115</td>
      <td>-1.985093</td>
      <td>0.121978</td>
      <td>0.594983</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It would be very hard to analyse this difference using the complete matrix, I propose we take the sum of differences for the high paying jobs and compare those.
As a threshold of high-paying I chose to go for those who ‘earn six figures’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">degree_diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q4
Bachelor’s degree                                                   -188.182578
Some college/university study without earning a bachelor’s degree    -20.266835
Professional degree                                                  -16.634066
I prefer not to answer                                                -7.157366
No formal education past high school                                  -6.855726
Master’s degree                                                       57.349472
Doctoral degree                                                      181.747100
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>By the looks of it, it pays of to study longer and get more degrees, as a Masters degree is overrepresented by 57 persons and Doctoral degrees even by 181 persons. On the other side Bachelors or Professional degrees are underrepresented whilst no formal education is not particularly underperforming.</p>
<p>We can do the same for Q5: which field? were we analyse in which field the person works compared with their salary.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q5&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">deg</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F: </span><span class="si">{</span><span class="n">F</span><span class="si">}</span><span class="s1">, p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">df</span><span class="o">-</span><span class="n">exp</span>
<span class="n">diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F: 1090.8622667456245, p: 4.440076551687432e-121
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q5
Computer science (software engineering, etc.)                   -226.894272
Information technology, networking, or system administration     -48.957238
I never declared a major                                          -1.528181
Environmental science or geology                                  -1.521054
Medical or life sciences (biology, chemistry, medicine, etc.)      5.826010
Other                                                             10.079966
Fine arts or performing arts                                      12.732902
Humanities (history, literature, philosophy, etc.)                28.574735
Social sciences (anthropology, psychology, sociology, etc.)       31.130313
Mathematics or statistics                                         39.390480
Physics or astronomy                                              47.878580
Engineering (non-computer focused)                                51.042958
A business discipline (accounting, economics, finance, etc.)      52.244802
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We have a clear loser here, for some reason the computer science department seems to be underpayed or either not worth their money. on the other side there is a more gradual increase and most fields are over represented in the region of highly paid jobs.</p>
<p>What about Q6: your job description?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">deg</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F: </span><span class="si">{</span><span class="n">F</span><span class="si">}</span><span class="s1">, p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">prof_diff</span> <span class="o">=</span> <span class="n">df</span><span class="o">-</span><span class="n">exp</span>
<span class="n">prof_diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F: 5430.1040630013995, p: 0.0
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q6
Student                   -342.940761
Data Analyst               -97.451682
Research Assistant         -58.433405
Business Analyst           -45.406507
Research Scientist         -15.196643
DBA/Database Engineer       -2.341629
Salesperson                 -2.173764
Statistician                -2.140968
Developer Advocate          -0.872124
Marketing Analyst           -0.151468
Data Journalist              2.603280
Software Engineer            4.167412
Data Engineer               20.224966
Principal Investigator      22.407220
Other                       28.674185
Product/Project Manager     30.047897
Consultant                  56.967918
Chief Officer               70.942316
Manager                    101.868235
Data Scientist             229.205522
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Highly expected students score very bad here, which is a good confirmation. Something remarkable here is the difference between Data Analyst and Data Scientist, two jobs that seem to be similar have such a difference in representation in the high paid region.</p>
<p>To complete the analysis we also chose Q7: which sector?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">count_matrix</span><span class="p">(</span><span class="s1">&#39;Q7&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">deg</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F: </span><span class="si">{</span><span class="n">F</span><span class="si">}</span><span class="s1">, p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">df</span><span class="o">-</span><span class="n">exp</span>
<span class="n">diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F: 4518.06867284469, p: 0.0
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q7
I am a student                           -290.982760
Academics/Education                      -160.690323
Non-profit/Service                         -6.369823
Online Business/Internet-based Sales        0.009203
Broadcasting/Communications                 3.444617
Manufacturing/Fabrication                   4.242660
Military/Security/Defense                   8.049193
Retail/Sales                               10.276752
Government/Public Service                  11.811848
Shipping/Transportation                    11.897725
Marketing/CRM                              12.086590
Energy/Mining                              13.813144
Hospitality/Entertainment/Sports           15.769849
Other                                      24.245965
Insurance/Risk Assessment                  33.588891
Medical/Pharmaceutical                     50.314149
Online Service/Internet-based Services     57.134487
Accounting/Finance                         74.047314
Computers/Technology                      127.310519
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Here we can again see the students, this time acompanied by the Academics/Education sector, which is understandable as it usually is a non-profit governmental oranization.
Leading the charts we have the Computers/Technology sector which is currently booming.</p>
<div class="section" id="common-skills">
<h3><span class="section-number">38.5.1. </span>Common skills<a class="headerlink" href="#common-skills" title="Permalink to this headline">¶</a></h3>
<p>Aside from salary we also are interested in most common skills for a specific job title, therefore I took the averages of each choice for a multiple choice question. Here as example the combination of Q6: which job and Q16: what languages?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_choice_matrix</span><span class="p">(</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q16&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
    <tr>
      <th>Q6</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Business Analyst</th>
      <td>0.605085</td>
      <td>0.401695</td>
      <td>0.547458</td>
      <td>0.049153</td>
      <td>0.079661</td>
      <td>0.084746</td>
      <td>0.189831</td>
      <td>0.069492</td>
      <td>0.030508</td>
      <td>0.016949</td>
      <td>0.003390</td>
      <td>0.005085</td>
      <td>0.042373</td>
      <td>0.035593</td>
      <td>0.006780</td>
      <td>0.091525</td>
      <td>0.054237</td>
      <td>0.027119</td>
    </tr>
    <tr>
      <th>Chief Officer</th>
      <td>0.717131</td>
      <td>0.274900</td>
      <td>0.430279</td>
      <td>0.191235</td>
      <td>0.183267</td>
      <td>0.306773</td>
      <td>0.083665</td>
      <td>0.139442</td>
      <td>0.091633</td>
      <td>0.067729</td>
      <td>0.015936</td>
      <td>0.059761</td>
      <td>0.103586</td>
      <td>0.103586</td>
      <td>0.043825</td>
      <td>0.035857</td>
      <td>0.023904</td>
      <td>0.055777</td>
    </tr>
    <tr>
      <th>Consultant</th>
      <td>0.692845</td>
      <td>0.413613</td>
      <td>0.472949</td>
      <td>0.116928</td>
      <td>0.136126</td>
      <td>0.165794</td>
      <td>0.111693</td>
      <td>0.078534</td>
      <td>0.062827</td>
      <td>0.024433</td>
      <td>0.010471</td>
      <td>0.012216</td>
      <td>0.082024</td>
      <td>0.052356</td>
      <td>0.012216</td>
      <td>0.073298</td>
      <td>0.031414</td>
      <td>0.041885</td>
    </tr>
    <tr>
      <th>DBA/Database Engineer</th>
      <td>0.666667</td>
      <td>0.307692</td>
      <td>0.717949</td>
      <td>0.188034</td>
      <td>0.213675</td>
      <td>0.128205</td>
      <td>0.068376</td>
      <td>0.102564</td>
      <td>0.051282</td>
      <td>0.025641</td>
      <td>0.000000</td>
      <td>0.017094</td>
      <td>0.179487</td>
      <td>0.042735</td>
      <td>0.008547</td>
      <td>0.025641</td>
      <td>0.008547</td>
      <td>0.017094</td>
    </tr>
    <tr>
      <th>Data Analyst</th>
      <td>0.647059</td>
      <td>0.484594</td>
      <td>0.586134</td>
      <td>0.079132</td>
      <td>0.093137</td>
      <td>0.098039</td>
      <td>0.110644</td>
      <td>0.079132</td>
      <td>0.067227</td>
      <td>0.028711</td>
      <td>0.005602</td>
      <td>0.006303</td>
      <td>0.039916</td>
      <td>0.032213</td>
      <td>0.014006</td>
      <td>0.105042</td>
      <td>0.011905</td>
      <td>0.018908</td>
    </tr>
    <tr>
      <th>Data Engineer</th>
      <td>0.801418</td>
      <td>0.248227</td>
      <td>0.510638</td>
      <td>0.223404</td>
      <td>0.246454</td>
      <td>0.184397</td>
      <td>0.053191</td>
      <td>0.132979</td>
      <td>0.081560</td>
      <td>0.161348</td>
      <td>0.008865</td>
      <td>0.033688</td>
      <td>0.086879</td>
      <td>0.054965</td>
      <td>0.015957</td>
      <td>0.033688</td>
      <td>0.003546</td>
      <td>0.028369</td>
    </tr>
    <tr>
      <th>Data Journalist</th>
      <td>0.600000</td>
      <td>0.400000</td>
      <td>0.400000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.400000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.200000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Data Scientist</th>
      <td>0.860265</td>
      <td>0.429671</td>
      <td>0.511542</td>
      <td>0.193906</td>
      <td>0.100031</td>
      <td>0.098492</td>
      <td>0.043398</td>
      <td>0.105571</td>
      <td>0.076023</td>
      <td>0.068637</td>
      <td>0.014158</td>
      <td>0.018159</td>
      <td>0.040320</td>
      <td>0.024007</td>
      <td>0.008618</td>
      <td>0.058172</td>
      <td>0.001847</td>
      <td>0.023084</td>
    </tr>
    <tr>
      <th>Developer Advocate</th>
      <td>0.611765</td>
      <td>0.211765</td>
      <td>0.482353</td>
      <td>0.094118</td>
      <td>0.341176</td>
      <td>0.400000</td>
      <td>0.094118</td>
      <td>0.141176</td>
      <td>0.035294</td>
      <td>0.035294</td>
      <td>0.000000</td>
      <td>0.023529</td>
      <td>0.211765</td>
      <td>0.141176</td>
      <td>0.023529</td>
      <td>0.011765</td>
      <td>0.000000</td>
      <td>0.058824</td>
    </tr>
    <tr>
      <th>Manager</th>
      <td>0.681416</td>
      <td>0.384956</td>
      <td>0.455752</td>
      <td>0.117257</td>
      <td>0.126106</td>
      <td>0.137168</td>
      <td>0.139381</td>
      <td>0.097345</td>
      <td>0.050885</td>
      <td>0.024336</td>
      <td>0.011062</td>
      <td>0.011062</td>
      <td>0.075221</td>
      <td>0.044248</td>
      <td>0.022124</td>
      <td>0.077434</td>
      <td>0.044248</td>
      <td>0.028761</td>
    </tr>
    <tr>
      <th>Marketing Analyst</th>
      <td>0.505747</td>
      <td>0.471264</td>
      <td>0.505747</td>
      <td>0.022989</td>
      <td>0.022989</td>
      <td>0.045977</td>
      <td>0.068966</td>
      <td>0.034483</td>
      <td>0.011494</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.011494</td>
      <td>0.034483</td>
      <td>0.000000</td>
      <td>0.057471</td>
      <td>0.080460</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Not employed</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.682041</td>
      <td>0.287537</td>
      <td>0.314033</td>
      <td>0.116781</td>
      <td>0.145240</td>
      <td>0.131501</td>
      <td>0.087341</td>
      <td>0.144259</td>
      <td>0.100098</td>
      <td>0.020608</td>
      <td>0.005888</td>
      <td>0.012758</td>
      <td>0.073602</td>
      <td>0.056919</td>
      <td>0.012758</td>
      <td>0.051030</td>
      <td>0.056919</td>
      <td>0.037291</td>
    </tr>
    <tr>
      <th>Principal Investigator</th>
      <td>0.759036</td>
      <td>0.433735</td>
      <td>0.277108</td>
      <td>0.144578</td>
      <td>0.144578</td>
      <td>0.216867</td>
      <td>0.096386</td>
      <td>0.265060</td>
      <td>0.240964</td>
      <td>0.024096</td>
      <td>0.060241</td>
      <td>0.024096</td>
      <td>0.096386</td>
      <td>0.096386</td>
      <td>0.012048</td>
      <td>0.060241</td>
      <td>0.012048</td>
      <td>0.072289</td>
    </tr>
    <tr>
      <th>Product/Project Manager</th>
      <td>0.720365</td>
      <td>0.276596</td>
      <td>0.455927</td>
      <td>0.100304</td>
      <td>0.161094</td>
      <td>0.206687</td>
      <td>0.088146</td>
      <td>0.133739</td>
      <td>0.063830</td>
      <td>0.039514</td>
      <td>0.003040</td>
      <td>0.012158</td>
      <td>0.106383</td>
      <td>0.091185</td>
      <td>0.027356</td>
      <td>0.024316</td>
      <td>0.045593</td>
      <td>0.027356</td>
    </tr>
    <tr>
      <th>Research Assistant</th>
      <td>0.776286</td>
      <td>0.310962</td>
      <td>0.192394</td>
      <td>0.154362</td>
      <td>0.161074</td>
      <td>0.102908</td>
      <td>0.038031</td>
      <td>0.255034</td>
      <td>0.308725</td>
      <td>0.013423</td>
      <td>0.020134</td>
      <td>0.000000</td>
      <td>0.053691</td>
      <td>0.071588</td>
      <td>0.006711</td>
      <td>0.046980</td>
      <td>0.011186</td>
      <td>0.031320</td>
    </tr>
    <tr>
      <th>Research Scientist</th>
      <td>0.780541</td>
      <td>0.340541</td>
      <td>0.196757</td>
      <td>0.188108</td>
      <td>0.142703</td>
      <td>0.088649</td>
      <td>0.038919</td>
      <td>0.301622</td>
      <td>0.265946</td>
      <td>0.024865</td>
      <td>0.019459</td>
      <td>0.003243</td>
      <td>0.061622</td>
      <td>0.043243</td>
      <td>0.011892</td>
      <td>0.043243</td>
      <td>0.014054</td>
      <td>0.043243</td>
    </tr>
    <tr>
      <th>Salesperson</th>
      <td>0.612500</td>
      <td>0.275000</td>
      <td>0.250000</td>
      <td>0.025000</td>
      <td>0.125000</td>
      <td>0.137500</td>
      <td>0.075000</td>
      <td>0.137500</td>
      <td>0.087500</td>
      <td>0.025000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.025000</td>
      <td>0.062500</td>
      <td>0.012500</td>
      <td>0.037500</td>
      <td>0.100000</td>
      <td>0.037500</td>
    </tr>
    <tr>
      <th>Software Engineer</th>
      <td>0.737179</td>
      <td>0.123504</td>
      <td>0.405128</td>
      <td>0.167949</td>
      <td>0.334188</td>
      <td>0.354274</td>
      <td>0.036325</td>
      <td>0.257692</td>
      <td>0.073077</td>
      <td>0.050855</td>
      <td>0.008547</td>
      <td>0.052137</td>
      <td>0.185470</td>
      <td>0.110684</td>
      <td>0.038034</td>
      <td>0.003419</td>
      <td>0.001709</td>
      <td>0.051282</td>
    </tr>
    <tr>
      <th>Statistician</th>
      <td>0.500000</td>
      <td>0.822222</td>
      <td>0.327778</td>
      <td>0.077778</td>
      <td>0.033333</td>
      <td>0.050000</td>
      <td>0.072222</td>
      <td>0.094444</td>
      <td>0.166667</td>
      <td>0.000000</td>
      <td>0.016667</td>
      <td>0.000000</td>
      <td>0.038889</td>
      <td>0.005556</td>
      <td>0.016667</td>
      <td>0.355556</td>
      <td>0.016667</td>
      <td>0.022222</td>
    </tr>
    <tr>
      <th>Student</th>
      <td>0.697710</td>
      <td>0.231679</td>
      <td>0.214885</td>
      <td>0.083969</td>
      <td>0.225573</td>
      <td>0.108397</td>
      <td>0.027481</td>
      <td>0.330153</td>
      <td>0.198473</td>
      <td>0.015649</td>
      <td>0.011832</td>
      <td>0.008397</td>
      <td>0.054198</td>
      <td>0.051527</td>
      <td>0.010305</td>
      <td>0.035878</td>
      <td>0.006489</td>
      <td>0.015267</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This does give us a lot of information, e.g. that 86% of all data scientists use python, yet it does not show correlation between answers, therefore we would need to go back to our original one hot encoded data and merge with the necessary info, it look like this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q16&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q6</th>
      <th>Q9</th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>Other</td>
      <td>10-20,000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Data Scientist</td>
      <td>0-10,000</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Data Analyst</td>
      <td>0-10,000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Other</td>
      <td>10-20,000</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Other</td>
      <td>0-10,000</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To deduce the correlation for all persons, we would not need Q6 or Q9, this will become necessary when we want to select subgroups. For now we calculate the percentage of all persons that have chosen each option</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python                   0.735563
SQL                      0.403072
R                        0.323028
C/C++                    0.183162
Java                     0.174282
Javascript/Typescript    0.154644
Bash                     0.138441
MATLAB                   0.113812
C#/.NET                  0.077452
Visual Basic/VBA         0.062609
PHP                      0.054443
SAS/STATA                0.052045
Scala                    0.041545
Other                    0.030203
Go                       0.018601
Ruby                     0.016138
None                     0.015101
Julia                    0.010953
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We can see that options as Python, SQL and R are very popular, yet how do they correlate? Are the same persons who pick python also those who pick R? We use the numerical correlation to calculate this. Notice that I use the Spearman Rank as our data consists of 0 and 1, being non-normal distributed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_jobs_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">all_jobs_corr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Python</th>
      <td>1.000000</td>
      <td>0.077293</td>
      <td>0.191304</td>
      <td>0.188435</td>
      <td>0.141813</td>
      <td>0.125164</td>
      <td>0.007550</td>
      <td>0.183621</td>
      <td>0.131117</td>
      <td>0.095374</td>
      <td>0.039096</td>
      <td>0.053180</td>
      <td>0.046182</td>
      <td>0.048012</td>
      <td>0.031308</td>
      <td>-0.009036</td>
      <td>-0.206520</td>
      <td>0.009641</td>
    </tr>
    <tr>
      <th>R</th>
      <td>0.077293</td>
      <td>1.000000</td>
      <td>0.223527</td>
      <td>0.032511</td>
      <td>-0.034205</td>
      <td>-0.039002</td>
      <td>0.098949</td>
      <td>-0.049046</td>
      <td>0.030446</td>
      <td>0.033991</td>
      <td>0.063129</td>
      <td>-0.016114</td>
      <td>-0.039415</td>
      <td>-0.006318</td>
      <td>0.014921</td>
      <td>0.198183</td>
      <td>-0.085536</td>
      <td>-0.001240</td>
    </tr>
    <tr>
      <th>SQL</th>
      <td>0.191304</td>
      <td>0.223527</td>
      <td>1.000000</td>
      <td>0.161086</td>
      <td>0.135890</td>
      <td>0.192323</td>
      <td>0.159062</td>
      <td>-0.034188</td>
      <td>-0.047761</td>
      <td>0.117620</td>
      <td>0.013813</td>
      <td>0.048231</td>
      <td>0.134615</td>
      <td>0.157483</td>
      <td>0.056242</td>
      <td>0.120958</td>
      <td>-0.101752</td>
      <td>0.001674</td>
    </tr>
    <tr>
      <th>Bash</th>
      <td>0.188435</td>
      <td>0.032511</td>
      <td>0.161086</td>
      <td>1.000000</td>
      <td>0.078031</td>
      <td>0.146723</td>
      <td>-0.026907</td>
      <td>0.082853</td>
      <td>0.010577</td>
      <td>0.116862</td>
      <td>0.058785</td>
      <td>0.104544</td>
      <td>0.000396</td>
      <td>0.054351</td>
      <td>0.103550</td>
      <td>-0.032248</td>
      <td>-0.049637</td>
      <td>0.056457</td>
    </tr>
    <tr>
      <th>Java</th>
      <td>0.141813</td>
      <td>-0.034205</td>
      <td>0.135890</td>
      <td>0.078031</td>
      <td>1.000000</td>
      <td>0.254773</td>
      <td>0.024432</td>
      <td>0.227691</td>
      <td>0.064536</td>
      <td>0.165490</td>
      <td>0.005821</td>
      <td>0.073318</td>
      <td>0.137888</td>
      <td>0.177413</td>
      <td>0.067257</td>
      <td>-0.040728</td>
      <td>-0.056888</td>
      <td>0.026739</td>
    </tr>
    <tr>
      <th>Javascript/Typescript</th>
      <td>0.125164</td>
      <td>-0.039002</td>
      <td>0.192323</td>
      <td>0.146723</td>
      <td>0.254773</td>
      <td>1.000000</td>
      <td>0.049290</td>
      <td>0.095921</td>
      <td>-0.004829</td>
      <td>0.060073</td>
      <td>0.025601</td>
      <td>0.118897</td>
      <td>0.222775</td>
      <td>0.307413</td>
      <td>0.127312</td>
      <td>-0.048567</td>
      <td>-0.052961</td>
      <td>0.034497</td>
    </tr>
    <tr>
      <th>Visual Basic/VBA</th>
      <td>0.007550</td>
      <td>0.098949</td>
      <td>0.159062</td>
      <td>-0.026907</td>
      <td>0.024432</td>
      <td>0.049290</td>
      <td>1.000000</td>
      <td>0.020796</td>
      <td>0.019424</td>
      <td>0.005185</td>
      <td>0.037063</td>
      <td>0.002042</td>
      <td>0.122287</td>
      <td>0.077126</td>
      <td>0.011487</td>
      <td>0.093618</td>
      <td>-0.032002</td>
      <td>-0.004965</td>
    </tr>
    <tr>
      <th>C/C++</th>
      <td>0.183621</td>
      <td>-0.049046</td>
      <td>-0.034188</td>
      <td>0.082853</td>
      <td>0.227691</td>
      <td>0.095921</td>
      <td>0.020796</td>
      <td>1.000000</td>
      <td>0.260311</td>
      <td>0.004697</td>
      <td>0.049980</td>
      <td>0.048903</td>
      <td>0.134850</td>
      <td>0.111623</td>
      <td>0.041745</td>
      <td>-0.052866</td>
      <td>-0.058636</td>
      <td>0.019235</td>
    </tr>
    <tr>
      <th>MATLAB</th>
      <td>0.131117</td>
      <td>0.030446</td>
      <td>-0.047761</td>
      <td>0.010577</td>
      <td>0.064536</td>
      <td>-0.004829</td>
      <td>0.019424</td>
      <td>0.260311</td>
      <td>1.000000</td>
      <td>0.003116</td>
      <td>0.056403</td>
      <td>0.003529</td>
      <td>0.029772</td>
      <td>0.046232</td>
      <td>0.014027</td>
      <td>0.015261</td>
      <td>-0.044376</td>
      <td>-0.000043</td>
    </tr>
    <tr>
      <th>Scala</th>
      <td>0.095374</td>
      <td>0.033991</td>
      <td>0.117620</td>
      <td>0.116862</td>
      <td>0.165490</td>
      <td>0.060073</td>
      <td>0.005185</td>
      <td>0.004697</td>
      <td>0.003116</td>
      <td>1.000000</td>
      <td>0.049863</td>
      <td>0.077110</td>
      <td>0.006505</td>
      <td>0.021619</td>
      <td>0.066129</td>
      <td>0.012633</td>
      <td>-0.025780</td>
      <td>0.014499</td>
    </tr>
    <tr>
      <th>Julia</th>
      <td>0.039096</td>
      <td>0.063129</td>
      <td>0.013813</td>
      <td>0.058785</td>
      <td>0.005821</td>
      <td>0.025601</td>
      <td>0.037063</td>
      <td>0.049980</td>
      <td>0.056403</td>
      <td>0.049863</td>
      <td>1.000000</td>
      <td>0.091513</td>
      <td>0.013769</td>
      <td>0.010427</td>
      <td>0.065590</td>
      <td>0.045429</td>
      <td>-0.013031</td>
      <td>0.006897</td>
    </tr>
    <tr>
      <th>Go</th>
      <td>0.053180</td>
      <td>-0.016114</td>
      <td>0.048231</td>
      <td>0.104544</td>
      <td>0.073318</td>
      <td>0.118897</td>
      <td>0.002042</td>
      <td>0.048903</td>
      <td>0.003529</td>
      <td>0.077110</td>
      <td>0.091513</td>
      <td>1.000000</td>
      <td>0.042659</td>
      <td>0.043077</td>
      <td>0.092767</td>
      <td>-0.008502</td>
      <td>-0.017048</td>
      <td>0.012141</td>
    </tr>
    <tr>
      <th>C#/.NET</th>
      <td>0.046182</td>
      <td>-0.039415</td>
      <td>0.134615</td>
      <td>0.000396</td>
      <td>0.137888</td>
      <td>0.222775</td>
      <td>0.122287</td>
      <td>0.134850</td>
      <td>0.029772</td>
      <td>0.006505</td>
      <td>0.013769</td>
      <td>0.042659</td>
      <td>1.000000</td>
      <td>0.108940</td>
      <td>0.039859</td>
      <td>-0.026410</td>
      <td>-0.035878</td>
      <td>0.006953</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>0.048012</td>
      <td>-0.006318</td>
      <td>0.157483</td>
      <td>0.054351</td>
      <td>0.177413</td>
      <td>0.307413</td>
      <td>0.077126</td>
      <td>0.111623</td>
      <td>0.046232</td>
      <td>0.021619</td>
      <td>0.010427</td>
      <td>0.043077</td>
      <td>0.108940</td>
      <td>1.000000</td>
      <td>0.080351</td>
      <td>-0.011212</td>
      <td>-0.029713</td>
      <td>0.031095</td>
    </tr>
    <tr>
      <th>Ruby</th>
      <td>0.031308</td>
      <td>0.014921</td>
      <td>0.056242</td>
      <td>0.103550</td>
      <td>0.067257</td>
      <td>0.127312</td>
      <td>0.011487</td>
      <td>0.041745</td>
      <td>0.014027</td>
      <td>0.066129</td>
      <td>0.065590</td>
      <td>0.092767</td>
      <td>0.039859</td>
      <td>0.080351</td>
      <td>1.000000</td>
      <td>0.007042</td>
      <td>-0.015859</td>
      <td>0.034500</td>
    </tr>
    <tr>
      <th>SAS/STATA</th>
      <td>-0.009036</td>
      <td>0.198183</td>
      <td>0.120958</td>
      <td>-0.032248</td>
      <td>-0.040728</td>
      <td>-0.048567</td>
      <td>0.093618</td>
      <td>-0.052866</td>
      <td>0.015261</td>
      <td>0.012633</td>
      <td>0.045429</td>
      <td>-0.008502</td>
      <td>-0.026410</td>
      <td>-0.011212</td>
      <td>0.007042</td>
      <td>1.000000</td>
      <td>-0.029014</td>
      <td>-0.005546</td>
    </tr>
    <tr>
      <th>None</th>
      <td>-0.206520</td>
      <td>-0.085536</td>
      <td>-0.101752</td>
      <td>-0.049637</td>
      <td>-0.056888</td>
      <td>-0.052961</td>
      <td>-0.032002</td>
      <td>-0.058636</td>
      <td>-0.044376</td>
      <td>-0.025780</td>
      <td>-0.013031</td>
      <td>-0.017048</td>
      <td>-0.035878</td>
      <td>-0.029713</td>
      <td>-0.015859</td>
      <td>-0.029014</td>
      <td>1.000000</td>
      <td>-0.021852</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.009641</td>
      <td>-0.001240</td>
      <td>0.001674</td>
      <td>0.056457</td>
      <td>0.026739</td>
      <td>0.034497</td>
      <td>-0.004965</td>
      <td>0.019235</td>
      <td>-0.000043</td>
      <td>0.014499</td>
      <td>0.006897</td>
      <td>0.012141</td>
      <td>0.006953</td>
      <td>0.031095</td>
      <td>0.034500</td>
      <td>-0.005546</td>
      <td>-0.021852</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As an example you can see that for those who chose python (the column called python) there is a 7.7% correlation with R and 19.1% with SQL, so a person who uses python is more likely to also know SQL (or Bash) rather than R. This is understandable as those languages are similar in usage.</p>
<p>Now we want to change things so we don’t look towards all persons, but only data scientists, as I am a data scientist and want to know which languages I should learn more about.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Data Scientist&#39;</span><span class="p">]</span>
<span class="n">data_science_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python                   0.860265
SQL                      0.511542
R                        0.429671
Bash                     0.193906
C/C++                    0.105571
Java                     0.100031
Javascript/Typescript    0.098492
MATLAB                   0.076023
Scala                    0.068637
SAS/STATA                0.058172
Visual Basic/VBA         0.043398
C#/.NET                  0.040320
PHP                      0.024007
Other                    0.023084
Go                       0.018159
Julia                    0.014158
Ruby                     0.008618
None                     0.001847
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>For the case of percentage that have chosen languages, things do not drastically change, although all percentages are up much more. You can see that the shell scripting language Bash has shifted upwards so a basic knowledge in Bash would not hurt.</p>
<p>For the correlation I opted to show the difference with the all persons correlation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_science_corr</span><span class="o">-</span><span class="n">all_jobs_corr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Python</th>
      <td>0.000000</td>
      <td>-0.053854</td>
      <td>0.018683</td>
      <td>-0.035673</td>
      <td>-0.042951</td>
      <td>-0.024721</td>
      <td>0.008582</td>
      <td>-0.091380</td>
      <td>-0.065754</td>
      <td>-0.007031</td>
      <td>-0.020853</td>
      <td>-0.024962</td>
      <td>0.000325</td>
      <td>-0.013800</td>
      <td>-0.012939</td>
      <td>0.021968</td>
      <td>0.099795</td>
      <td>-0.006802</td>
    </tr>
    <tr>
      <th>R</th>
      <td>-0.053854</td>
      <td>0.000000</td>
      <td>-0.002263</td>
      <td>-0.030455</td>
      <td>0.047379</td>
      <td>0.027537</td>
      <td>0.003023</td>
      <td>0.040190</td>
      <td>0.020863</td>
      <td>-0.026163</td>
      <td>0.022313</td>
      <td>0.005169</td>
      <td>0.016383</td>
      <td>0.032662</td>
      <td>-0.008402</td>
      <td>-0.063263</td>
      <td>0.048202</td>
      <td>0.033430</td>
    </tr>
    <tr>
      <th>SQL</th>
      <td>0.018683</td>
      <td>-0.002263</td>
      <td>0.000000</td>
      <td>0.020711</td>
      <td>-0.076892</td>
      <td>-0.086304</td>
      <td>-0.047632</td>
      <td>-0.020833</td>
      <td>0.049269</td>
      <td>0.006402</td>
      <td>0.030326</td>
      <td>-0.035231</td>
      <td>-0.056398</td>
      <td>-0.084676</td>
      <td>-0.025087</td>
      <td>0.021932</td>
      <td>0.057734</td>
      <td>0.021428</td>
    </tr>
    <tr>
      <th>Bash</th>
      <td>-0.035673</td>
      <td>-0.030455</td>
      <td>0.020711</td>
      <td>0.000000</td>
      <td>-0.052135</td>
      <td>-0.039736</td>
      <td>-0.004962</td>
      <td>-0.028407</td>
      <td>-0.010267</td>
      <td>-0.009835</td>
      <td>-0.005540</td>
      <td>-0.031319</td>
      <td>-0.009901</td>
      <td>-0.044813</td>
      <td>-0.073477</td>
      <td>0.000158</td>
      <td>0.028540</td>
      <td>-0.022983</td>
    </tr>
    <tr>
      <th>Java</th>
      <td>-0.042951</td>
      <td>0.047379</td>
      <td>-0.076892</td>
      <td>-0.052135</td>
      <td>0.000000</td>
      <td>-0.051694</td>
      <td>0.025389</td>
      <td>-0.051798</td>
      <td>0.033358</td>
      <td>0.032070</td>
      <td>0.015005</td>
      <td>-0.049516</td>
      <td>0.038876</td>
      <td>0.018255</td>
      <td>-0.020655</td>
      <td>0.019228</td>
      <td>0.042548</td>
      <td>-0.009677</td>
    </tr>
    <tr>
      <th>Javascript/Typescript</th>
      <td>-0.024721</td>
      <td>0.027537</td>
      <td>-0.086304</td>
      <td>-0.039736</td>
      <td>-0.051694</td>
      <td>0.000000</td>
      <td>-0.003094</td>
      <td>0.005652</td>
      <td>0.046422</td>
      <td>0.005440</td>
      <td>-0.012755</td>
      <td>-0.040080</td>
      <td>-0.022725</td>
      <td>-0.096084</td>
      <td>-0.057557</td>
      <td>0.023788</td>
      <td>0.038744</td>
      <td>-0.016523</td>
    </tr>
    <tr>
      <th>Visual Basic/VBA</th>
      <td>0.008582</td>
      <td>0.003023</td>
      <td>-0.047632</td>
      <td>-0.004962</td>
      <td>0.025389</td>
      <td>-0.003094</td>
      <td>0.000000</td>
      <td>-0.020233</td>
      <td>0.027772</td>
      <td>-0.003260</td>
      <td>0.014130</td>
      <td>-0.008382</td>
      <td>-0.020037</td>
      <td>0.037497</td>
      <td>0.017683</td>
      <td>0.027697</td>
      <td>0.022840</td>
      <td>0.012460</td>
    </tr>
    <tr>
      <th>C/C++</th>
      <td>-0.091380</td>
      <td>0.040190</td>
      <td>-0.020833</td>
      <td>-0.028407</td>
      <td>-0.051798</td>
      <td>0.005652</td>
      <td>-0.020233</td>
      <td>0.000000</td>
      <td>0.000168</td>
      <td>0.024847</td>
      <td>-0.014849</td>
      <td>0.039396</td>
      <td>-0.001594</td>
      <td>-0.028092</td>
      <td>0.012913</td>
      <td>0.027393</td>
      <td>0.043858</td>
      <td>-0.012017</td>
    </tr>
    <tr>
      <th>MATLAB</th>
      <td>-0.065754</td>
      <td>0.020863</td>
      <td>0.049269</td>
      <td>-0.010267</td>
      <td>0.033358</td>
      <td>0.046422</td>
      <td>0.027772</td>
      <td>0.000168</td>
      <td>0.000000</td>
      <td>0.010878</td>
      <td>0.046837</td>
      <td>0.018341</td>
      <td>0.029507</td>
      <td>0.045341</td>
      <td>0.047175</td>
      <td>0.012680</td>
      <td>0.032038</td>
      <td>-0.005384</td>
    </tr>
    <tr>
      <th>Scala</th>
      <td>-0.007031</td>
      <td>-0.026163</td>
      <td>0.006402</td>
      <td>-0.009835</td>
      <td>0.032070</td>
      <td>0.005440</td>
      <td>-0.003260</td>
      <td>0.024847</td>
      <td>0.010878</td>
      <td>0.000000</td>
      <td>-0.030876</td>
      <td>0.004490</td>
      <td>0.005925</td>
      <td>-0.000573</td>
      <td>-0.038760</td>
      <td>-0.007288</td>
      <td>0.014104</td>
      <td>0.016729</td>
    </tr>
    <tr>
      <th>Julia</th>
      <td>-0.020853</td>
      <td>0.022313</td>
      <td>0.030326</td>
      <td>-0.005540</td>
      <td>0.015005</td>
      <td>-0.012755</td>
      <td>0.014130</td>
      <td>-0.014849</td>
      <td>0.046837</td>
      <td>-0.030876</td>
      <td>0.000000</td>
      <td>0.028763</td>
      <td>-0.011845</td>
      <td>0.004817</td>
      <td>0.007792</td>
      <td>0.002699</td>
      <td>0.007876</td>
      <td>0.009378</td>
    </tr>
    <tr>
      <th>Go</th>
      <td>-0.024962</td>
      <td>0.005169</td>
      <td>-0.035231</td>
      <td>-0.031319</td>
      <td>-0.049516</td>
      <td>-0.040080</td>
      <td>-0.008382</td>
      <td>0.039396</td>
      <td>0.018341</td>
      <td>0.004490</td>
      <td>0.028763</td>
      <td>0.000000</td>
      <td>-0.023663</td>
      <td>-0.019231</td>
      <td>-0.055572</td>
      <td>-0.005601</td>
      <td>0.011198</td>
      <td>0.013002</td>
    </tr>
    <tr>
      <th>C#/.NET</th>
      <td>0.000325</td>
      <td>0.016383</td>
      <td>-0.056398</td>
      <td>-0.009901</td>
      <td>0.038876</td>
      <td>-0.022725</td>
      <td>-0.020037</td>
      <td>-0.001594</td>
      <td>0.029507</td>
      <td>0.005925</td>
      <td>-0.011845</td>
      <td>-0.023663</td>
      <td>0.000000</td>
      <td>0.053129</td>
      <td>-0.008187</td>
      <td>0.008893</td>
      <td>0.027062</td>
      <td>0.013636</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>-0.013800</td>
      <td>0.032662</td>
      <td>-0.084676</td>
      <td>-0.044813</td>
      <td>0.018255</td>
      <td>-0.096084</td>
      <td>0.037497</td>
      <td>-0.028092</td>
      <td>0.045341</td>
      <td>-0.000573</td>
      <td>0.004817</td>
      <td>-0.019231</td>
      <td>0.053129</td>
      <td>0.000000</td>
      <td>0.035548</td>
      <td>0.015185</td>
      <td>0.022966</td>
      <td>0.011745</td>
    </tr>
    <tr>
      <th>Ruby</th>
      <td>-0.012939</td>
      <td>-0.008402</td>
      <td>-0.025087</td>
      <td>-0.073477</td>
      <td>-0.020655</td>
      <td>-0.057557</td>
      <td>0.017683</td>
      <td>0.012913</td>
      <td>0.047175</td>
      <td>-0.038760</td>
      <td>0.007792</td>
      <td>-0.055572</td>
      <td>-0.008187</td>
      <td>0.035548</td>
      <td>0.000000</td>
      <td>-0.001761</td>
      <td>0.011849</td>
      <td>0.017689</td>
    </tr>
    <tr>
      <th>SAS/STATA</th>
      <td>0.021968</td>
      <td>-0.063263</td>
      <td>0.021932</td>
      <td>0.000158</td>
      <td>0.019228</td>
      <td>0.023788</td>
      <td>0.027697</td>
      <td>0.027393</td>
      <td>0.012680</td>
      <td>-0.007288</td>
      <td>0.002699</td>
      <td>-0.005601</td>
      <td>0.008893</td>
      <td>0.015185</td>
      <td>-0.001761</td>
      <td>0.000000</td>
      <td>0.018324</td>
      <td>0.037394</td>
    </tr>
    <tr>
      <th>None</th>
      <td>0.099795</td>
      <td>0.048202</td>
      <td>0.057734</td>
      <td>0.028540</td>
      <td>0.042548</td>
      <td>0.038744</td>
      <td>0.022840</td>
      <td>0.043858</td>
      <td>0.032038</td>
      <td>0.014104</td>
      <td>0.007876</td>
      <td>0.011198</td>
      <td>0.027062</td>
      <td>0.022966</td>
      <td>0.011849</td>
      <td>0.018324</td>
      <td>0.000000</td>
      <td>0.015240</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>-0.006802</td>
      <td>0.033430</td>
      <td>0.021428</td>
      <td>-0.022983</td>
      <td>-0.009677</td>
      <td>-0.016523</td>
      <td>0.012460</td>
      <td>-0.012017</td>
      <td>-0.005384</td>
      <td>0.016729</td>
      <td>0.009378</td>
      <td>0.013002</td>
      <td>0.013636</td>
      <td>0.011745</td>
      <td>0.017689</td>
      <td>0.037394</td>
      <td>0.015240</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In the Python column we can see that generic non Data Science languages such as C/C++ and Java are falling, yet the correlation with Bash is also negative, this indicates by selecting Data Science profiles we have on average more people choosing for Bash, but NOT in combination with Python.
Although results are somewhat expected, there do not seem to be any drastic changes.</p>
<p>To shake things up more, we apply a second filter, where we only take the persons who earn more than 100k.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;100-125,000&#39;</span><span class="o">&lt;</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="o">&lt;</span><span class="s1">&#39;500,000+&#39;</span><span class="p">)]</span>
<span class="n">high_paying_job_corr</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Python                   0.896635
SQL                      0.608173
R                        0.459135
Bash                     0.274038
Scala                    0.105769
Java                     0.093750
Javascript/Typescript    0.088942
C/C++                    0.067308
SAS/STATA                0.062500
MATLAB                   0.055288
Visual Basic/VBA         0.043269
C#/.NET                  0.043269
Other                    0.031250
PHP                      0.021635
Julia                    0.019231
Go                       0.019231
Ruby                     0.009615
None                     0.002404
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>For the average of choices we can now see that Scala - a language used for big data - shootsj up the ranks, indicating that having a data engineering language in your knowledge base is good for your salary.</p>
<p>To compare the correlation of high paying data science jobs I took the difference with correlation of all jobs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">high_paying_job_corr</span><span class="o">-</span><span class="n">all_jobs_corr</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Python</th>
      <th>R</th>
      <th>SQL</th>
      <th>Bash</th>
      <th>Java</th>
      <th>Javascript/Typescript</th>
      <th>Visual Basic/VBA</th>
      <th>C/C++</th>
      <th>MATLAB</th>
      <th>Scala</th>
      <th>Julia</th>
      <th>Go</th>
      <th>C#/.NET</th>
      <th>PHP</th>
      <th>Ruby</th>
      <th>SAS/STATA</th>
      <th>None</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Python</th>
      <td>0.000000</td>
      <td>-0.065523</td>
      <td>-0.027102</td>
      <td>-0.032937</td>
      <td>-0.140966</td>
      <td>-0.046816</td>
      <td>-0.012961</td>
      <td>-0.155440</td>
      <td>-0.083528</td>
      <td>0.021397</td>
      <td>0.008448</td>
      <td>-0.005636</td>
      <td>-0.051593</td>
      <td>-0.051796</td>
      <td>0.002147</td>
      <td>0.031462</td>
      <td>0.061944</td>
      <td>0.005959</td>
    </tr>
    <tr>
      <th>R</th>
      <td>-0.065523</td>
      <td>0.000000</td>
      <td>0.031806</td>
      <td>-0.014573</td>
      <td>0.052306</td>
      <td>0.090043</td>
      <td>-0.010383</td>
      <td>0.032570</td>
      <td>0.021053</td>
      <td>-0.052843</td>
      <td>0.053728</td>
      <td>-0.042652</td>
      <td>-0.014271</td>
      <td>0.068248</td>
      <td>-0.006841</td>
      <td>-0.057440</td>
      <td>0.040308</td>
      <td>0.057555</td>
    </tr>
    <tr>
      <th>SQL</th>
      <td>-0.027102</td>
      <td>0.031806</td>
      <td>0.000000</td>
      <td>0.011898</td>
      <td>-0.063562</td>
      <td>-0.131819</td>
      <td>-0.060971</td>
      <td>-0.064647</td>
      <td>0.048020</td>
      <td>0.030335</td>
      <td>0.062726</td>
      <td>-0.007548</td>
      <td>-0.133335</td>
      <td>-0.105817</td>
      <td>-0.027615</td>
      <td>-0.035771</td>
      <td>0.040596</td>
      <td>0.029281</td>
    </tr>
    <tr>
      <th>Bash</th>
      <td>-0.032937</td>
      <td>-0.014573</td>
      <td>0.011898</td>
      <td>0.000000</td>
      <td>-0.016784</td>
      <td>-0.016832</td>
      <td>0.055178</td>
      <td>-0.032800</td>
      <td>0.005863</td>
      <td>0.022321</td>
      <td>0.012154</td>
      <td>0.005638</td>
      <td>-0.078079</td>
      <td>-0.034582</td>
      <td>-0.108861</td>
      <td>0.007200</td>
      <td>0.019477</td>
      <td>0.019045</td>
    </tr>
    <tr>
      <th>Java</th>
      <td>-0.140966</td>
      <td>0.052306</td>
      <td>-0.063562</td>
      <td>-0.016784</td>
      <td>0.000000</td>
      <td>-0.065553</td>
      <td>0.028768</td>
      <td>-0.149517</td>
      <td>0.038082</td>
      <td>0.126133</td>
      <td>-0.050859</td>
      <td>-0.058305</td>
      <td>-0.003621</td>
      <td>0.114871</td>
      <td>0.070073</td>
      <td>-0.008248</td>
      <td>0.041100</td>
      <td>0.010292</td>
    </tr>
    <tr>
      <th>Javascript/Typescript</th>
      <td>-0.046816</td>
      <td>0.090043</td>
      <td>-0.131819</td>
      <td>-0.016832</td>
      <td>-0.065553</td>
      <td>0.000000</td>
      <td>-0.032728</td>
      <td>0.022367</td>
      <td>0.040091</td>
      <td>-0.030239</td>
      <td>-0.007864</td>
      <td>-0.039671</td>
      <td>0.001309</td>
      <td>-0.179745</td>
      <td>0.014972</td>
      <td>0.037665</td>
      <td>0.037624</td>
      <td>-0.042081</td>
    </tr>
    <tr>
      <th>Visual Basic/VBA</th>
      <td>-0.012961</td>
      <td>-0.010383</td>
      <td>-0.060971</td>
      <td>0.055178</td>
      <td>0.028768</td>
      <td>-0.032728</td>
      <td>0.000000</td>
      <td>-0.030771</td>
      <td>-0.019176</td>
      <td>-0.001491</td>
      <td>0.019187</td>
      <td>-0.031821</td>
      <td>-0.051377</td>
      <td>0.053665</td>
      <td>-0.032441</td>
      <td>0.046707</td>
      <td>0.021562</td>
      <td>0.034672</td>
    </tr>
    <tr>
      <th>C/C++</th>
      <td>-0.155440</td>
      <td>0.032570</td>
      <td>-0.064647</td>
      <td>-0.032800</td>
      <td>-0.149517</td>
      <td>0.022367</td>
      <td>-0.030771</td>
      <td>0.000000</td>
      <td>-0.157380</td>
      <td>0.027699</td>
      <td>-0.017737</td>
      <td>-0.016661</td>
      <td>-0.050517</td>
      <td>-0.019681</td>
      <td>0.030100</td>
      <td>0.102410</td>
      <td>0.045449</td>
      <td>-0.012343</td>
    </tr>
    <tr>
      <th>MATLAB</th>
      <td>-0.083528</td>
      <td>0.021053</td>
      <td>0.048020</td>
      <td>0.005863</td>
      <td>0.038082</td>
      <td>0.040091</td>
      <td>-0.019176</td>
      <td>-0.157380</td>
      <td>0.000000</td>
      <td>0.016286</td>
      <td>-0.013690</td>
      <td>-0.037404</td>
      <td>-0.029523</td>
      <td>0.062386</td>
      <td>0.069920</td>
      <td>0.009181</td>
      <td>0.032500</td>
      <td>0.017045</td>
    </tr>
    <tr>
      <th>Scala</th>
      <td>0.021397</td>
      <td>-0.052843</td>
      <td>0.030335</td>
      <td>0.022321</td>
      <td>0.126133</td>
      <td>-0.030239</td>
      <td>-0.001491</td>
      <td>0.027699</td>
      <td>0.016286</td>
      <td>0.000000</td>
      <td>-0.041107</td>
      <td>-0.068354</td>
      <td>-0.041228</td>
      <td>-0.019036</td>
      <td>-0.019920</td>
      <td>-0.069142</td>
      <td>0.008898</td>
      <td>0.013578</td>
    </tr>
    <tr>
      <th>Julia</th>
      <td>0.008448</td>
      <td>0.053728</td>
      <td>0.062726</td>
      <td>0.012154</td>
      <td>-0.050859</td>
      <td>-0.007864</td>
      <td>0.019187</td>
      <td>-0.017737</td>
      <td>-0.013690</td>
      <td>-0.041107</td>
      <td>0.000000</td>
      <td>0.016330</td>
      <td>-0.043548</td>
      <td>-0.031250</td>
      <td>0.099978</td>
      <td>0.063037</td>
      <td>0.006157</td>
      <td>-0.032047</td>
    </tr>
    <tr>
      <th>Go</th>
      <td>-0.005636</td>
      <td>-0.042652</td>
      <td>-0.007548</td>
      <td>0.005638</td>
      <td>-0.058305</td>
      <td>-0.039671</td>
      <td>-0.031821</td>
      <td>-0.016661</td>
      <td>-0.037404</td>
      <td>-0.068354</td>
      <td>0.016330</td>
      <td>0.000000</td>
      <td>-0.072438</td>
      <td>-0.063900</td>
      <td>0.072801</td>
      <td>0.044657</td>
      <td>0.010174</td>
      <td>-0.037291</td>
    </tr>
    <tr>
      <th>C#/.NET</th>
      <td>-0.051593</td>
      <td>-0.014271</td>
      <td>-0.133335</td>
      <td>-0.078079</td>
      <td>-0.003621</td>
      <td>0.001309</td>
      <td>-0.051377</td>
      <td>-0.050517</td>
      <td>-0.029523</td>
      <td>-0.041228</td>
      <td>-0.043548</td>
      <td>-0.072438</td>
      <td>0.000000</td>
      <td>0.021852</td>
      <td>-0.060814</td>
      <td>-0.028500</td>
      <td>0.025439</td>
      <td>0.022755</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>-0.051796</td>
      <td>0.068248</td>
      <td>-0.105817</td>
      <td>-0.034582</td>
      <td>0.114871</td>
      <td>-0.179745</td>
      <td>0.053665</td>
      <td>-0.019681</td>
      <td>0.062386</td>
      <td>-0.019036</td>
      <td>-0.031250</td>
      <td>-0.063900</td>
      <td>0.021852</td>
      <td>0.000000</td>
      <td>0.074312</td>
      <td>-0.027184</td>
      <td>0.022413</td>
      <td>-0.057803</td>
    </tr>
    <tr>
      <th>Ruby</th>
      <td>0.002147</td>
      <td>-0.006841</td>
      <td>-0.027615</td>
      <td>-0.108861</td>
      <td>0.070073</td>
      <td>0.014972</td>
      <td>-0.032441</td>
      <td>0.030100</td>
      <td>0.069920</td>
      <td>-0.019920</td>
      <td>0.099978</td>
      <td>0.072801</td>
      <td>-0.060814</td>
      <td>0.074312</td>
      <td>0.000000</td>
      <td>-0.032483</td>
      <td>0.011022</td>
      <td>-0.052197</td>
    </tr>
    <tr>
      <th>SAS/STATA</th>
      <td>0.031462</td>
      <td>-0.057440</td>
      <td>-0.035771</td>
      <td>0.007200</td>
      <td>-0.008248</td>
      <td>0.037665</td>
      <td>0.046707</td>
      <td>0.102410</td>
      <td>0.009181</td>
      <td>-0.069142</td>
      <td>0.063037</td>
      <td>0.044657</td>
      <td>-0.028500</td>
      <td>-0.027184</td>
      <td>-0.032483</td>
      <td>0.000000</td>
      <td>0.016340</td>
      <td>0.016248</td>
    </tr>
    <tr>
      <th>None</th>
      <td>0.061944</td>
      <td>0.040308</td>
      <td>0.040596</td>
      <td>0.019477</td>
      <td>0.041100</td>
      <td>0.037624</td>
      <td>0.021562</td>
      <td>0.045449</td>
      <td>0.032500</td>
      <td>0.008898</td>
      <td>0.006157</td>
      <td>0.010174</td>
      <td>0.025439</td>
      <td>0.022413</td>
      <td>0.011022</td>
      <td>0.016340</td>
      <td>0.000000</td>
      <td>0.013036</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.005959</td>
      <td>0.057555</td>
      <td>0.029281</td>
      <td>0.019045</td>
      <td>0.010292</td>
      <td>-0.042081</td>
      <td>0.034672</td>
      <td>-0.012343</td>
      <td>0.017045</td>
      <td>0.013578</td>
      <td>-0.032047</td>
      <td>-0.037291</td>
      <td>0.022755</td>
      <td>-0.057803</td>
      <td>-0.052197</td>
      <td>0.016248</td>
      <td>0.013036</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Again as I mainly use python I will be looking at the Python column, you can see that Scala is indeed correlated with Python and Java or C/C++ is not a must at all.</p>
<p>In a similar fashion we evaluate the influence of machine learning toolkits, where we first see the average choice of all persons.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q19&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Scikit-Learn    0.588113
TensorFlow      0.476635
Keras           0.393026
randomForest    0.290168
Xgboost         0.278761
PyTorch         0.183226
None            0.128071
Caret           0.114395
Spark MLlib     0.108108
lightgbm        0.105256
H20             0.069674
Fastai          0.055350
Caffe           0.053730
catboost        0.051656
Prophet         0.039406
CNTK            0.035647
Mxnet           0.030916
mlr             0.027027
Other           0.025731
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Scikit-learn or sklearn (the one we sometimes use) is chosen the most often, problably because of it’s ease of use and effectiveness. Now we would like to see the choice of data scientists</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Data Scientist&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Scikit-Learn    0.791936
TensorFlow      0.607879
Keras           0.567251
Xgboost         0.534626
randomForest    0.474608
PyTorch         0.251154
Caret           0.224685
lightgbm        0.224685
Spark MLlib     0.219452
H20             0.157279
catboost        0.114805
Fastai          0.101878
Prophet         0.098492
Caffe           0.063096
CNTK            0.060634
Mxnet           0.055094
mlr             0.052324
Other           0.029240
None            0.023392
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>No particular shifts although None has dropped to the last place, indicating that knowledge of Machine Learning is essential for a Data Scientist.</p>
<p>What happens when we only ask the high paying data scientists?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;100-125,000&#39;</span><span class="o">&lt;</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="o">&lt;</span><span class="s1">&#39;500,000+&#39;</span><span class="p">)]</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Scikit-Learn    0.838942
TensorFlow      0.639423
Xgboost         0.598558
Keras           0.596154
randomForest    0.504808
Spark MLlib     0.310096
PyTorch         0.278846
Caret           0.245192
lightgbm        0.245192
H20             0.216346
Prophet         0.120192
Fastai          0.115385
catboost        0.110577
Mxnet           0.086538
Caffe           0.086538
CNTK            0.079327
mlr             0.055288
Other           0.036058
None            0.021635
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Nothing in particular, except that all percentages have increased, to conclude your choice of machine learning library is not that important!</p>
</div>
<div class="section" id="time-spend">
<h3><span class="section-number">38.5.2. </span>Time spend<a class="headerlink" href="#time-spend" title="Permalink to this headline">¶</a></h3>
<p>I would also like to know how other data scientists spend their time, in the same fashion we analyse this</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q34&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Gathering data                                                      0.762525
Cleaning data                                                       0.762525
Visualizing data                                                    0.762525
Model building/model selection                                      0.762525
Putting the model into production                                   0.762525
Finding insights in the data and communicating with stakeholders    0.762525
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Looks like we made a mistake, we one hot encoded all questions but this is a numerical question, we need som more manipulations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">train_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Q34&#39;</span><span class="p">)][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Q34&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; - &#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q6</th>
      <th>Q9</th>
      <th>Gathering data</th>
      <th>Cleaning data</th>
      <th>Visualizing data</th>
      <th>Model building/model selection</th>
      <th>Putting the model into production</th>
      <th>Finding insights in the data and communicating with stakeholders</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>Other</td>
      <td>10-20,000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Data Scientist</td>
      <td>0-10,000</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>20.0</td>
      <td>50.0</td>
      <td>20.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Data Analyst</td>
      <td>0-10,000</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>23.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Other</td>
      <td>10-20,000</td>
      <td>0.0</td>
      <td>30.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Other</td>
      <td>0-10,000</td>
      <td>20.0</td>
      <td>30.0</td>
      <td>20.0</td>
      <td>20.0</td>
      <td>5.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>23844</th>
      <td>Software Engineer</td>
      <td>90-100,000</td>
      <td>10.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>40.0</td>
      <td>10.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>23845</th>
      <td>Student</td>
      <td>0-10,000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>23854</th>
      <td>Research Assistant</td>
      <td>10-20,000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>23855</th>
      <td>Chief Officer</td>
      <td>250-300,000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>23857</th>
      <td>Software Engineer</td>
      <td>10-20,000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>15429 rows × 8 columns</p>
</div></div></div>
</div>
<p>This looks better, now for each answer we have a value between 0 and 100%, we need to check if they have filled in this answer though</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Q6</th>
      <th>Q9</th>
      <th>Gathering data</th>
      <th>Cleaning data</th>
      <th>Visualizing data</th>
      <th>Model building/model selection</th>
      <th>Putting the model into production</th>
      <th>Finding insights in the data and communicating with stakeholders</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>Data Scientist</td>
      <td>0-10,000</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>20.0</td>
      <td>50.0</td>
      <td>20.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Data Analyst</td>
      <td>0-10,000</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>23.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Other</td>
      <td>10-20,000</td>
      <td>0.0</td>
      <td>30.0</td>
      <td>50.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>20.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Other</td>
      <td>0-10,000</td>
      <td>20.0</td>
      <td>30.0</td>
      <td>20.0</td>
      <td>20.0</td>
      <td>5.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Software Engineer</td>
      <td>20-30,000</td>
      <td>55.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>23823</th>
      <td>Software Engineer</td>
      <td>0-10,000</td>
      <td>20.0</td>
      <td>20.0</td>
      <td>20.0</td>
      <td>5.0</td>
      <td>20.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>23824</th>
      <td>Research Scientist</td>
      <td>70-80,000</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>40.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>23836</th>
      <td>Product/Project Manager</td>
      <td>10-20,000</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>10.0</td>
      <td>20.0</td>
      <td>50.0</td>
    </tr>
    <tr>
      <th>23841</th>
      <td>Student</td>
      <td>10-20,000</td>
      <td>20.0</td>
      <td>5.0</td>
      <td>15.0</td>
      <td>40.0</td>
      <td>20.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>23844</th>
      <td>Software Engineer</td>
      <td>90-100,000</td>
      <td>10.0</td>
      <td>30.0</td>
      <td>5.0</td>
      <td>40.0</td>
      <td>10.0</td>
      <td>5.0</td>
    </tr>
  </tbody>
</table>
<p>11535 rows × 8 columns</p>
</div></div></div>
</div>
<p>much better! we have the percentages and dropped the rows where nothing was filled in</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_all</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">time_all</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cleaning data                                                       23.743813
Model building/model selection                                      21.038863
Gathering data                                                      17.262623
Visualizing data                                                    13.837350
Finding insights in the data and communicating with stakeholders    11.864940
Putting the model into production                                    9.054319
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>In the beginning of my course I showed a graph on how a data scientists time is divided, this should give another view on it, most of it is data cleaning and model selection, visualization and insights are equally important but get more hands-on time.</p>
<p>How are these relations when looking at Data Scientists?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Data Scientist&#39;</span><span class="p">]</span>
<span class="n">time_scientist</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">time_scientist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cleaning data                                                       25.341431
Model building/model selection                                      20.309071
Gathering data                                                      16.010219
Visualizing data                                                    12.916368
Finding insights in the data and communicating with stakeholders    12.675780
Putting the model into production                                   10.362675
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>I would not say things have changed much, as expected as many of the persons are data scientists.
Does this stay when we filter on the higher paid jobs?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;100-125,000&#39;</span><span class="o">&lt;</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="o">&lt;</span><span class="s1">&#39;500,000+&#39;</span><span class="p">)]</span>
<span class="n">time_high_pay</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">time_high_pay</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cleaning data                                                       25.435135
Model building/model selection                                      20.500000
Gathering data                                                      16.502703
Finding insights in the data and communicating with stakeholders    13.413514
Visualizing data                                                    11.916216
Putting the model into production                                   10.729730
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>There seems to be a little change, we can see that data visualization is less important, this is understandable as this is rather a task for a data analyst that creates reports using graphs.</p>
<p>So if I want to specialize myself in Data Science I should not put the focus on data visualizations.</p>
<p>To end this analysis I would like to pick Q42: Quality control of products. Again we do the same analysis</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q42&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Metrics that consider accuracy                                                   0.419924
Revenue and/or business goals                                                    0.290492
Not applicable (I am not involved with an organization that builds ML models)    0.136107
Metrics that consider unfair bias                                                0.133126
Other                                                                            0.013740
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Data Scientist&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Metrics that consider accuracy                                                   0.620499
Revenue and/or business goals                                                    0.517082
Metrics that consider unfair bias                                                0.184057
Not applicable (I am not involved with an organization that builds ML models)    0.035703
Other                                                                            0.019083
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;100-125,000&#39;</span><span class="o">&lt;</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Q9</span><span class="o">&lt;</span><span class="s1">&#39;500,000+&#39;</span><span class="p">)]</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Metrics that consider accuracy                                                   0.673077
Revenue and/or business goals                                                    0.634615
Metrics that consider unfair bias                                                0.201923
Not applicable (I am not involved with an organization that builds ML models)    0.024038
Other                                                                            0.021635
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>You can see that Data Scientists focus more on Metrics that consider unfair bias, as this is often an issue in Data Science, when reporting data biases might not be that critical (or might even help you) but in Data Science - when exploring new ideas - it is important to not have a bias that might disrupt your machine learning algorithm.</p>
</div>
<div class="section" id="age-vs-experience">
<h3><span class="section-number">38.5.3. </span>Age vs experience<a class="headerlink" href="#age-vs-experience" title="Permalink to this headline">¶</a></h3>
<p>Something we can really do much about, but it would be nice to see if it is never too late to change careers.
For both age and experience we create a cross-tabulation and calculate a contingency test.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">age_crosstab_df</span> <span class="o">=</span> <span class="n">info_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Q9&#39;</span><span class="p">,</span> <span class="s1">&#39;Q2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="n">age_crosstab_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q2</th>
      <th>18-21</th>
      <th>22-24</th>
      <th>25-29</th>
      <th>30-34</th>
      <th>35-39</th>
      <th>40-44</th>
      <th>45-49</th>
      <th>50-54</th>
      <th>55-59</th>
      <th>60-69</th>
      <th>70-79</th>
      <th>80+</th>
    </tr>
    <tr>
      <th>Q9</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0-10,000</th>
      <td>1119</td>
      <td>1574</td>
      <td>1057</td>
      <td>360</td>
      <td>149</td>
      <td>69</td>
      <td>36</td>
      <td>19</td>
      <td>7</td>
      <td>5</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10-20,000</th>
      <td>100</td>
      <td>427</td>
      <td>747</td>
      <td>329</td>
      <td>154</td>
      <td>94</td>
      <td>41</td>
      <td>25</td>
      <td>9</td>
      <td>8</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20-30,000</th>
      <td>40</td>
      <td>220</td>
      <td>539</td>
      <td>302</td>
      <td>145</td>
      <td>73</td>
      <td>42</td>
      <td>19</td>
      <td>8</td>
      <td>6</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>30-40,000</th>
      <td>20</td>
      <td>168</td>
      <td>371</td>
      <td>262</td>
      <td>137</td>
      <td>83</td>
      <td>37</td>
      <td>19</td>
      <td>7</td>
      <td>11</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>40-50,000</th>
      <td>18</td>
      <td>112</td>
      <td>318</td>
      <td>223</td>
      <td>134</td>
      <td>72</td>
      <td>44</td>
      <td>24</td>
      <td>8</td>
      <td>8</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>50-60,000</th>
      <td>16</td>
      <td>93</td>
      <td>291</td>
      <td>214</td>
      <td>131</td>
      <td>80</td>
      <td>42</td>
      <td>27</td>
      <td>15</td>
      <td>8</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>60-70,000</th>
      <td>3</td>
      <td>71</td>
      <td>201</td>
      <td>189</td>
      <td>110</td>
      <td>73</td>
      <td>36</td>
      <td>25</td>
      <td>11</td>
      <td>9</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>70-80,000</th>
      <td>6</td>
      <td>63</td>
      <td>166</td>
      <td>173</td>
      <td>91</td>
      <td>66</td>
      <td>52</td>
      <td>29</td>
      <td>17</td>
      <td>12</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>80-90,000</th>
      <td>7</td>
      <td>44</td>
      <td>140</td>
      <td>119</td>
      <td>72</td>
      <td>49</td>
      <td>35</td>
      <td>23</td>
      <td>8</td>
      <td>8</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>90-100,000</th>
      <td>11</td>
      <td>34</td>
      <td>112</td>
      <td>146</td>
      <td>108</td>
      <td>65</td>
      <td>28</td>
      <td>30</td>
      <td>19</td>
      <td>11</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>100-125,000</th>
      <td>13</td>
      <td>40</td>
      <td>154</td>
      <td>209</td>
      <td>168</td>
      <td>89</td>
      <td>56</td>
      <td>43</td>
      <td>37</td>
      <td>31</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>125-150,000</th>
      <td>1</td>
      <td>20</td>
      <td>85</td>
      <td>128</td>
      <td>101</td>
      <td>68</td>
      <td>52</td>
      <td>41</td>
      <td>18</td>
      <td>17</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>150-200,000</th>
      <td>2</td>
      <td>9</td>
      <td>49</td>
      <td>101</td>
      <td>84</td>
      <td>69</td>
      <td>49</td>
      <td>41</td>
      <td>28</td>
      <td>21</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>200-250,000</th>
      <td>1</td>
      <td>2</td>
      <td>17</td>
      <td>37</td>
      <td>18</td>
      <td>23</td>
      <td>27</td>
      <td>18</td>
      <td>18</td>
      <td>11</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>250-300,000</th>
      <td>2</td>
      <td>6</td>
      <td>8</td>
      <td>9</td>
      <td>9</td>
      <td>8</td>
      <td>12</td>
      <td>9</td>
      <td>5</td>
      <td>7</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>300-400,000</th>
      <td>0</td>
      <td>4</td>
      <td>6</td>
      <td>7</td>
      <td>11</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>400-500,000</th>
      <td>0</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>5</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>500,000+</th>
      <td>4</td>
      <td>4</td>
      <td>13</td>
      <td>7</td>
      <td>10</td>
      <td>0</td>
      <td>5</td>
      <td>6</td>
      <td>4</td>
      <td>3</td>
      <td>0</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>just by looking at it you can see a correlation, but just for significance we do the statistics</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">deg</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">age_crosstab_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F: </span><span class="si">{</span><span class="n">F</span><span class="si">}</span><span class="s1">, p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">age_crosstab_df</span><span class="o">-</span><span class="n">exp</span>
<span class="n">age_diff</span> <span class="o">=</span> <span class="n">diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="c1">#.sort_values()</span>
<span class="n">age_diff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F: 6918.154466333605, p: 0.0
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q2
18-21   -171.372999
22-24   -320.210902
25-29   -274.517013
30-34    101.264502
35-39    167.356860
40-44    126.864346
45-49    119.917428
50-54    100.712165
55-59     77.992806
60-69     65.859032
70-79      5.368527
80+        0.765247
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Again I took the high paying jobs and you can see that from the age of 30 there is an overrepresentation in high paying jobs. We can safely say that by increasing age you are more likely to end up in the high paying salary sector although it reverts back around the age of 55.</p>
<p>Now for the experience</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exp_crosstab_df</span> <span class="o">=</span> <span class="n">info_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Q9&#39;</span><span class="p">,</span> <span class="s1">&#39;Q8&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="n">exp_crosstab_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q8</th>
      <th>0-1</th>
      <th>1-2</th>
      <th>2-3</th>
      <th>3-4</th>
      <th>4-5</th>
      <th>5-10</th>
      <th>10-15</th>
      <th>15-20</th>
      <th>20-25</th>
      <th>25-30</th>
      <th>30 +</th>
    </tr>
    <tr>
      <th>Q9</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0-10,000</th>
      <td>1806</td>
      <td>852</td>
      <td>503</td>
      <td>339</td>
      <td>236</td>
      <td>272</td>
      <td>170</td>
      <td>135</td>
      <td>14</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>10-20,000</th>
      <td>432</td>
      <td>431</td>
      <td>289</td>
      <td>186</td>
      <td>148</td>
      <td>259</td>
      <td>114</td>
      <td>36</td>
      <td>19</td>
      <td>12</td>
      <td>5</td>
    </tr>
    <tr>
      <th>20-30,000</th>
      <td>262</td>
      <td>290</td>
      <td>215</td>
      <td>128</td>
      <td>114</td>
      <td>225</td>
      <td>99</td>
      <td>31</td>
      <td>20</td>
      <td>6</td>
      <td>3</td>
    </tr>
    <tr>
      <th>30-40,000</th>
      <td>246</td>
      <td>215</td>
      <td>155</td>
      <td>105</td>
      <td>81</td>
      <td>169</td>
      <td>82</td>
      <td>39</td>
      <td>14</td>
      <td>3</td>
      <td>7</td>
    </tr>
    <tr>
      <th>40-50,000</th>
      <td>191</td>
      <td>193</td>
      <td>125</td>
      <td>83</td>
      <td>100</td>
      <td>144</td>
      <td>69</td>
      <td>33</td>
      <td>18</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>50-60,000</th>
      <td>221</td>
      <td>157</td>
      <td>115</td>
      <td>91</td>
      <td>73</td>
      <td>118</td>
      <td>66</td>
      <td>49</td>
      <td>11</td>
      <td>4</td>
      <td>14</td>
    </tr>
    <tr>
      <th>60-70,000</th>
      <td>151</td>
      <td>139</td>
      <td>104</td>
      <td>65</td>
      <td>57</td>
      <td>103</td>
      <td>64</td>
      <td>22</td>
      <td>13</td>
      <td>3</td>
      <td>8</td>
    </tr>
    <tr>
      <th>70-80,000</th>
      <td>128</td>
      <td>129</td>
      <td>92</td>
      <td>59</td>
      <td>50</td>
      <td>92</td>
      <td>55</td>
      <td>35</td>
      <td>21</td>
      <td>8</td>
      <td>8</td>
    </tr>
    <tr>
      <th>80-90,000</th>
      <td>103</td>
      <td>84</td>
      <td>68</td>
      <td>42</td>
      <td>45</td>
      <td>85</td>
      <td>40</td>
      <td>17</td>
      <td>9</td>
      <td>5</td>
      <td>8</td>
    </tr>
    <tr>
      <th>90-100,000</th>
      <td>89</td>
      <td>94</td>
      <td>68</td>
      <td>50</td>
      <td>44</td>
      <td>97</td>
      <td>64</td>
      <td>24</td>
      <td>21</td>
      <td>9</td>
      <td>6</td>
    </tr>
    <tr>
      <th>100-125,000</th>
      <td>113</td>
      <td>106</td>
      <td>109</td>
      <td>58</td>
      <td>76</td>
      <td>162</td>
      <td>105</td>
      <td>49</td>
      <td>28</td>
      <td>17</td>
      <td>19</td>
    </tr>
    <tr>
      <th>125-150,000</th>
      <td>55</td>
      <td>72</td>
      <td>63</td>
      <td>43</td>
      <td>51</td>
      <td>92</td>
      <td>63</td>
      <td>45</td>
      <td>26</td>
      <td>12</td>
      <td>11</td>
    </tr>
    <tr>
      <th>150-200,000</th>
      <td>47</td>
      <td>38</td>
      <td>33</td>
      <td>37</td>
      <td>46</td>
      <td>85</td>
      <td>72</td>
      <td>37</td>
      <td>26</td>
      <td>20</td>
      <td>16</td>
    </tr>
    <tr>
      <th>200-250,000</th>
      <td>11</td>
      <td>12</td>
      <td>12</td>
      <td>10</td>
      <td>14</td>
      <td>32</td>
      <td>23</td>
      <td>25</td>
      <td>17</td>
      <td>7</td>
      <td>9</td>
    </tr>
    <tr>
      <th>250-300,000</th>
      <td>8</td>
      <td>6</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>11</td>
      <td>17</td>
      <td>11</td>
      <td>6</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>300-400,000</th>
      <td>9</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>4</td>
      <td>9</td>
      <td>6</td>
      <td>2</td>
      <td>5</td>
      <td>2</td>
      <td>6</td>
    </tr>
    <tr>
      <th>400-500,000</th>
      <td>0</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>7</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>500,000+</th>
      <td>7</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>1</td>
      <td>14</td>
      <td>7</td>
      <td>5</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A less obvious correlation, we can use the F values to compare.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">deg</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">exp_crosstab_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;F: </span><span class="si">{</span><span class="n">F</span><span class="si">}</span><span class="s1">, p: </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">diff</span> <span class="o">=</span> <span class="n">exp_crosstab_df</span><span class="o">-</span><span class="n">exp</span>
<span class="n">exp_diff</span> <span class="o">=</span> <span class="n">diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="c1">#.sort_values()</span>
<span class="n">exp_diff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>F: 2522.63511999856, p: 0.0
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q8
0-1     -301.217156
1-2     -157.483033
2-3      -48.686185
3-4      -27.510193
4-5       35.358432
5-10     118.191428
10-15    135.444994
15-20     85.522504
20-25     70.979157
25-30     43.603009
30 +      45.797043
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The F value is indeed lower, indicating that the correlation between age and salary is stronger than age and experience. The expected experience level to reach the high paying jobs seems to be around the 5 year mark.</p>
</div>
</div>
<div class="section" id="visualisation">
<h2><span class="section-number">38.6. </span>Visualisation<a class="headerlink" href="#visualisation" title="Permalink to this headline">¶</a></h2>
<p>Although data scientists spend less time visualizing, I’m still going to make the effort here, a little refreshment, we created a mean matrix between 2 informative questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean_matrix</span><span class="p">(</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Q9</th>
      <th>0-10,000</th>
      <th>10-20,000</th>
      <th>20-30,000</th>
      <th>30-40,000</th>
      <th>40-50,000</th>
      <th>50-60,000</th>
      <th>60-70,000</th>
      <th>70-80,000</th>
      <th>80-90,000</th>
      <th>90-100,000</th>
      <th>100-125,000</th>
      <th>125-150,000</th>
      <th>150-200,000</th>
      <th>200-250,000</th>
      <th>250-300,000</th>
      <th>300-400,000</th>
      <th>400-500,000</th>
      <th>500,000+</th>
    </tr>
    <tr>
      <th>Q6</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Business Analyst</th>
      <td>0.161017</td>
      <td>0.176271</td>
      <td>0.108475</td>
      <td>0.079661</td>
      <td>0.077966</td>
      <td>0.091525</td>
      <td>0.077966</td>
      <td>0.054237</td>
      <td>0.050847</td>
      <td>0.052542</td>
      <td>0.037288</td>
      <td>0.010169</td>
      <td>0.013559</td>
      <td>0.001695</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.006780</td>
    </tr>
    <tr>
      <th>Chief Officer</th>
      <td>0.083665</td>
      <td>0.087649</td>
      <td>0.059761</td>
      <td>0.027888</td>
      <td>0.035857</td>
      <td>0.039841</td>
      <td>0.079681</td>
      <td>0.051793</td>
      <td>0.023904</td>
      <td>0.035857</td>
      <td>0.079681</td>
      <td>0.079681</td>
      <td>0.119522</td>
      <td>0.067729</td>
      <td>0.035857</td>
      <td>0.023904</td>
      <td>0.015936</td>
      <td>0.051793</td>
    </tr>
    <tr>
      <th>Consultant</th>
      <td>0.109948</td>
      <td>0.095986</td>
      <td>0.089005</td>
      <td>0.094241</td>
      <td>0.082024</td>
      <td>0.069808</td>
      <td>0.068063</td>
      <td>0.036649</td>
      <td>0.045375</td>
      <td>0.062827</td>
      <td>0.101222</td>
      <td>0.048866</td>
      <td>0.055846</td>
      <td>0.022688</td>
      <td>0.006981</td>
      <td>0.001745</td>
      <td>0.001745</td>
      <td>0.006981</td>
    </tr>
    <tr>
      <th>DBA/Database Engineer</th>
      <td>0.205128</td>
      <td>0.153846</td>
      <td>0.170940</td>
      <td>0.051282</td>
      <td>0.076923</td>
      <td>0.059829</td>
      <td>0.042735</td>
      <td>0.051282</td>
      <td>0.017094</td>
      <td>0.051282</td>
      <td>0.025641</td>
      <td>0.059829</td>
      <td>0.017094</td>
      <td>0.008547</td>
      <td>0.008547</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Data Analyst</th>
      <td>0.260504</td>
      <td>0.151961</td>
      <td>0.094538</td>
      <td>0.079132</td>
      <td>0.070028</td>
      <td>0.069328</td>
      <td>0.067227</td>
      <td>0.055322</td>
      <td>0.046218</td>
      <td>0.032213</td>
      <td>0.046919</td>
      <td>0.013305</td>
      <td>0.005602</td>
      <td>0.001401</td>
      <td>0.000700</td>
      <td>0.001401</td>
      <td>0.002101</td>
      <td>0.002101</td>
    </tr>
    <tr>
      <th>Data Engineer</th>
      <td>0.182624</td>
      <td>0.145390</td>
      <td>0.097518</td>
      <td>0.070922</td>
      <td>0.081560</td>
      <td>0.060284</td>
      <td>0.065603</td>
      <td>0.040780</td>
      <td>0.044326</td>
      <td>0.035461</td>
      <td>0.065603</td>
      <td>0.046099</td>
      <td>0.042553</td>
      <td>0.012411</td>
      <td>0.003546</td>
      <td>0.005319</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Data Journalist</th>
      <td>0.300000</td>
      <td>0.200000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.200000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Data Scientist</th>
      <td>0.141890</td>
      <td>0.106802</td>
      <td>0.083102</td>
      <td>0.079717</td>
      <td>0.080640</td>
      <td>0.070483</td>
      <td>0.059095</td>
      <td>0.063712</td>
      <td>0.045860</td>
      <td>0.055402</td>
      <td>0.082179</td>
      <td>0.058787</td>
      <td>0.044629</td>
      <td>0.014158</td>
      <td>0.004925</td>
      <td>0.003693</td>
      <td>0.001847</td>
      <td>0.003078</td>
    </tr>
    <tr>
      <th>Developer Advocate</th>
      <td>0.223529</td>
      <td>0.188235</td>
      <td>0.047059</td>
      <td>0.141176</td>
      <td>0.082353</td>
      <td>0.058824</td>
      <td>0.023529</td>
      <td>0.023529</td>
      <td>0.035294</td>
      <td>0.047059</td>
      <td>0.047059</td>
      <td>0.035294</td>
      <td>0.035294</td>
      <td>0.011765</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Manager</th>
      <td>0.068584</td>
      <td>0.061947</td>
      <td>0.070796</td>
      <td>0.086283</td>
      <td>0.055310</td>
      <td>0.070796</td>
      <td>0.046460</td>
      <td>0.055310</td>
      <td>0.046460</td>
      <td>0.066372</td>
      <td>0.110619</td>
      <td>0.081858</td>
      <td>0.097345</td>
      <td>0.046460</td>
      <td>0.017699</td>
      <td>0.008850</td>
      <td>0.002212</td>
      <td>0.006637</td>
    </tr>
    <tr>
      <th>Marketing Analyst</th>
      <td>0.183908</td>
      <td>0.114943</td>
      <td>0.137931</td>
      <td>0.080460</td>
      <td>0.091954</td>
      <td>0.080460</td>
      <td>0.034483</td>
      <td>0.057471</td>
      <td>0.022989</td>
      <td>0.057471</td>
      <td>0.057471</td>
      <td>0.068966</td>
      <td>0.011494</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Not employed</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>0.205103</td>
      <td>0.131501</td>
      <td>0.091266</td>
      <td>0.076546</td>
      <td>0.064769</td>
      <td>0.076546</td>
      <td>0.058881</td>
      <td>0.053974</td>
      <td>0.036310</td>
      <td>0.030422</td>
      <td>0.063788</td>
      <td>0.039254</td>
      <td>0.039254</td>
      <td>0.012758</td>
      <td>0.007851</td>
      <td>0.003925</td>
      <td>0.000981</td>
      <td>0.006869</td>
    </tr>
    <tr>
      <th>Principal Investigator</th>
      <td>0.048193</td>
      <td>0.060241</td>
      <td>0.048193</td>
      <td>0.024096</td>
      <td>0.084337</td>
      <td>0.096386</td>
      <td>0.048193</td>
      <td>0.036145</td>
      <td>0.048193</td>
      <td>0.072289</td>
      <td>0.132530</td>
      <td>0.084337</td>
      <td>0.132530</td>
      <td>0.036145</td>
      <td>0.012048</td>
      <td>0.012048</td>
      <td>0.000000</td>
      <td>0.024096</td>
    </tr>
    <tr>
      <th>Product/Project Manager</th>
      <td>0.100304</td>
      <td>0.100304</td>
      <td>0.103343</td>
      <td>0.057751</td>
      <td>0.079027</td>
      <td>0.072948</td>
      <td>0.066869</td>
      <td>0.057751</td>
      <td>0.063830</td>
      <td>0.066869</td>
      <td>0.075988</td>
      <td>0.063830</td>
      <td>0.057751</td>
      <td>0.018237</td>
      <td>0.009119</td>
      <td>0.006079</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Research Assistant</th>
      <td>0.382550</td>
      <td>0.203579</td>
      <td>0.149888</td>
      <td>0.098434</td>
      <td>0.051454</td>
      <td>0.049217</td>
      <td>0.020134</td>
      <td>0.015660</td>
      <td>0.011186</td>
      <td>0.004474</td>
      <td>0.004474</td>
      <td>0.004474</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.004474</td>
    </tr>
    <tr>
      <th>Research Scientist</th>
      <td>0.140541</td>
      <td>0.139459</td>
      <td>0.100541</td>
      <td>0.112432</td>
      <td>0.102703</td>
      <td>0.099459</td>
      <td>0.063784</td>
      <td>0.047568</td>
      <td>0.031351</td>
      <td>0.036757</td>
      <td>0.043243</td>
      <td>0.029189</td>
      <td>0.023784</td>
      <td>0.012973</td>
      <td>0.006486</td>
      <td>0.006486</td>
      <td>0.001081</td>
      <td>0.002162</td>
    </tr>
    <tr>
      <th>Salesperson</th>
      <td>0.237500</td>
      <td>0.150000</td>
      <td>0.125000</td>
      <td>0.050000</td>
      <td>0.050000</td>
      <td>0.062500</td>
      <td>0.062500</td>
      <td>0.075000</td>
      <td>0.025000</td>
      <td>0.025000</td>
      <td>0.037500</td>
      <td>0.050000</td>
      <td>0.012500</td>
      <td>0.012500</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.025000</td>
    </tr>
    <tr>
      <th>Software Engineer</th>
      <td>0.252991</td>
      <td>0.144017</td>
      <td>0.113675</td>
      <td>0.080342</td>
      <td>0.059829</td>
      <td>0.061538</td>
      <td>0.038034</td>
      <td>0.044444</td>
      <td>0.026068</td>
      <td>0.034615</td>
      <td>0.061111</td>
      <td>0.032051</td>
      <td>0.026068</td>
      <td>0.010684</td>
      <td>0.005556</td>
      <td>0.003846</td>
      <td>0.002137</td>
      <td>0.002991</td>
    </tr>
    <tr>
      <th>Statistician</th>
      <td>0.227778</td>
      <td>0.161111</td>
      <td>0.100000</td>
      <td>0.038889</td>
      <td>0.033333</td>
      <td>0.050000</td>
      <td>0.061111</td>
      <td>0.083333</td>
      <td>0.061111</td>
      <td>0.055556</td>
      <td>0.050000</td>
      <td>0.033333</td>
      <td>0.016667</td>
      <td>0.005556</td>
      <td>0.011111</td>
      <td>0.005556</td>
      <td>0.005556</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>Student</th>
      <td>0.759924</td>
      <td>0.101527</td>
      <td>0.057634</td>
      <td>0.033969</td>
      <td>0.014885</td>
      <td>0.007634</td>
      <td>0.003435</td>
      <td>0.004198</td>
      <td>0.002290</td>
      <td>0.004198</td>
      <td>0.004198</td>
      <td>0.002290</td>
      <td>0.001145</td>
      <td>0.000763</td>
      <td>0.000000</td>
      <td>0.000382</td>
      <td>0.000000</td>
      <td>0.001527</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>What I was thinking about would be a bar chart where each job title is a row and the distribution of each salary is shown, below the example</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">mean_matrix</span><span class="p">(</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span> <span class="s1">&#39;Q9&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s1">&#39;colorblind&#39;</span><span class="p">)[</span><span class="n">idx</span><span class="o">%</span><span class="k">10</span>])

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;distribution of salary&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;0-10,000&#39;, &#39;10-20,000&#39;, &#39;20-30,000&#39;, &#39;30-40,000&#39;, &#39;40-50,000&#39;, &#39;50-60,000&#39;, &#39;60-70,000&#39;, &#39;70-80,000&#39;, &#39;80-90,000&#39;, &#39;90-100,000&#39;, &#39;100-125,000&#39;, &#39;125-150,000&#39;, &#39;150-200,000&#39;, &#39;200-250,000&#39;, &#39;250-300,000&#39;, &#39;300-400,000&#39;, &#39;400-500,000&#39;, &#39;500,000+&#39;]
</pre></div>
</div>
<img alt="../_images/UserSurvey_130_1.svg" src="../_images/UserSurvey_130_1.svg" /></div>
</div>
<p>The colors are awful but it displays the salary distribution, you can see that students clearly are in the lower parts similar to research assistants, notice that jobs with low statistical count can create a distortion as e.g. data journalist only has about 20 records. Jobs such as Manager and Principal Investigator seem to have a very even distribution indicating a faster climbing up the salary ladder.</p>
<p>In a similar fashion for other questions you could construct the same graph.</p>
<p>Another way to look at these things would be to use the difference between true and expected values, we already created the degree for differences, let’s turn this into a bar plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">degree_diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Q4
Bachelor’s degree                                                   -188.182578
Some college/university study without earning a bachelor’s degree    -20.266835
Professional degree                                                  -16.634066
I prefer not to answer                                                -7.157366
No formal education past high school                                  -6.855726
Master’s degree                                                       57.349472
Doctoral degree                                                      181.747100
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_133_0.svg" src="../_images/UserSurvey_133_0.svg" /></div>
</div>
<p>There are a lot of things you can still do to beautify this graph, but that’s not our main interest, it shows the under- and overrepresented groups in high paying jobs. It would be wise however to create a relative version of this, as e.g. bachelor’s degrees might be much more prevalent than others.</p>
<p>The same can be done with groupings of profession/job</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">prof_diff</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;100-125,000&#39;</span><span class="p">:</span><span class="s1">&#39;400-500,000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_135_0.svg" src="../_images/UserSurvey_135_0.svg" /></div>
</div>
<p>To keep things consistent and because people love bar charts, we can use them to also display the disparity of choices of programming languages between high paying data scientists and all persons</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">high_paying_job_corr</span><span class="o">-</span><span class="n">all_jobs_corr</span><span class="p">)</span><span class="o">.</span><span class="n">Python</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_137_0.svg" src="../_images/UserSurvey_137_0.svg" /></div>
</div>
<p>you can see that the correlation between python and C/C++ is 15% less likely for high paid data scientists, indicating that it is not a good choice to learn next, in contrast languages such as Scala and SAS are a good option!</p>
<p>As far as my knowledge goes, the increase in correlation with None is because they are both negative and Python is more often chosen for data scientists, therefore the option ‘not Python, not None’ (but another language) is less often chosen, resulting in a higher correlation.</p>
<p>If you would want to make things a bit more fancy, you could use a clustermap, underlaying an algorithm will cluster your parameters into groups, here we cluster the correlation between common languages.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[[</span><span class="s1">&#39;Q6&#39;</span><span class="p">,</span><span class="s1">&#39;Q9&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">answer_dfs</span><span class="p">[</span><span class="s1">&#39;Q16&#39;</span><span class="p">])</span>
<span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="s1">&#39;spearman&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_140_0.svg" src="../_images/UserSurvey_140_0.svg" /></div>
</div>
<p>The algorithm was able to group languages such as Python, Bash, SQL and Scala, indicating that there is some correlation, but this graph makes things rather complicated in my opinion.</p>
<p>Now about time spending, we could visualize this by showing the difference between high paid scientists and regular persons</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">time_high_pay</span><span class="o">-</span><span class="n">time_all</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_142_0.svg" src="../_images/UserSurvey_142_0.svg" /></div>
</div>
<p>we can see they spend more time on cleaning data, communication and production readiness, but less on visualization.
Efficient time handling can be crucial for a good career!</p>
<p>At last we discussed age vs experience, as we cannot use histograms and overlapping is not possible with different categories (age vs exp) we are stuck with a bar chart. The repetivity of our dataset is reflected in our visualization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">age_diff</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_144_0.svg" src="../_images/UserSurvey_144_0.svg" /></div>
</div>
<p>Although simple it clearly shows the surplus of older persons in the high paying jobs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">exp_diff</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/UserSurvey_146_0.svg" src="../_images/UserSurvey_146_0.svg" /></div>
</div>
<p>And as known before, experience gets your salary going from the 5 years and onwards</p>
</div>
<div class="section" id="summary">
<h2><span class="section-number">38.7. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Degrees and Job title strongly influences job salary</p></li>
<li><p>Job sectors as Academics are underpayed</p></li>
<li><p>For a data Scientist using python aim for other skills such as Scala and forget C/C++</p></li>
<li><p>Your choice of Machine Learning library is of no importance</p></li>
<li><p>Data Scientists spend less time visualizing and more cleaning, communicating and production</p></li>
<li><p>Data Scientists are more worried about biases in their analysis</p></li>
<li><p>Although both relevant, Age is more an indicator of a higher salary than experience, never to late to chase your dreams!</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./c7_case_studies"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="Olympics.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title"><span class="section-number">37. </span>Case Study: Olympic medals</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="Jokes.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title"><span class="section-number">39. </span>Case Study: Jokes</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Lorenz Feyen<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>